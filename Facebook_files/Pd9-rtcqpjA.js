if (self.CavalryLogger) { CavalryLogger.start_js(["+5Bs7"]); }

__d("XVideoUnifiedCVCControllerRouteBuilder",["cometRouteBuilder"],(function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/video/unified_cvc/",Object.freeze({}),void 0);e.exports=a}),null);
__d("VideoPlayerDefaultControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControls_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplLive_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplNotLive_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelay_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelay_init",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelay_video",selections:[{alias:null,args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{documentName:"useVideoPlayerShakaPerformanceLoggerRelay_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerRelay_init",fragmentPropName:"init",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useEventCallbackOn",["React"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useEffect;function a(a,b,c){g(function(){a.addEventListener(b,c);return function(){a.removeEventListener(b,c)}},[a,b,c])}e.exports=a}),null);
__d("useIsBackgrounded",["React","VideoPlayerShakaGlobalConfig","useEventCallbackOn"],(function(a,b,c,d,e,f){"use strict";f=b("React");var g=f.useCallback,h=f.useState;function c(){var b=a.document;if(typeof b.hidden!=="undefined")return"visibilitychange";else if(typeof b.mozHidden!=="undefined")return"mozvisibilitychange";else if(typeof b.msHidden!=="undefined")return"msvisibilitychange";else if(typeof b.webkitHidden!=="undefined")return"webkitvisibilitychange";return"visibilitychange"}function i(){var b=a.document;if(typeof b.hidden!=="undefined")return b.hidden;else if(typeof b.mozHidden!=="undefined")return b.mozHidden;else if(typeof b.msHidden!=="undefined")return b.msHidden;else if(typeof b.webkitHidden!=="undefined")return b.webkitHidden;return!1}var j=c();function k(){var c=a.document.hasFocus?a.document.hasFocus():!0,d=i(),e=b("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1);return d||(e?!1:!c)}function d(c){var d=h(function(){return k()}),e=d[0],f=d[1],i=!!c&&c.scrollTerminatesBackgrounded===!0;d=g(function(){f(k())},[f,k]);c=d;var l=g(function(){var a=k();a&&i&&e&&f(!1)},[e,i,f]);b("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1)&&(c=function(){});b("useEventCallbackOn")(a.window,"blur",c);b("useEventCallbackOn")(a.window,"focus",c);b("useEventCallbackOn")(a.document,j,d);b("useEventCallbackOn")(a.window,"scroll",l);return e}e.exports=d}),null);
__d("VideoPlayerViewabilityProvider.react",["React","VideoPlayerViewabilityContexts"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext,i=b("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext;function a(a){var b=a.children,c=a.isFullscreen;a=a.videoPlayerPassiveViewabilityInfo;return g.jsx(i.Provider,{value:a,children:g.jsx(h.Provider,{value:c,children:b})})}e.exports=a}),null);
__d("wrapWithContextProviders",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,b){return b.reduceRight(function(a,b){return b(a)},a)}function c(a,b){return function(c){return g.jsx(a.Provider,{value:b,children:c})}}e.exports={makeRenderProviderFn:c,wrapWithContextProviders:a}}),null);
__d("VideoPlayerComponentContainer.react",["requireCond","CometVisualCompletionAttributes","React","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","setTimeout","stylex","cr:1269159","wrapWithContextProviders"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback,i=c.useEffect,j=c.useRef,k=c.useState,l=(d=b("VideoPlayerContexts")).ActiveCaptionsContext,m=d.AdClientTokenContext,n=d.AutoplayGatingResultContext,o=d.AvailableVideoQualitiesContext,p=d.BroadcastStatusContext,q=d.BufferEndContext,r=d.CanAutoplayContext,s=d.CaptionsLoadedContext,t=d.CaptionsVisibleContext,u=d.ControllerContext,v=d.CurrentVideoQualityContext,w=d.DimensionsContext,x=d.DurationContext,y=d.EndedContext,z=d.ErrorContext,A=d.InbandCaptionsAutogeneratedContext,B=d.InPlayStallingContext,C=d.InstanceKeyContext,D=d.IsAbrEnabledContext,E=d.IsLiveRewindActiveContext,F=d.LastMuteReasonContext,G=d.LastPauseReasonContext,H=d.LastPlayReasonContext,I=d.LoopCountContext,J=d.LoopCurrentContext,K=d.MutedContext,L=d.PausedContext,M=d.PlayerImplementationNameContext,N=d.PlayingContext,O=d.SeekableRangesContext,P=d.SeekingContext,Q=d.SelectedVideoQualityContext,R=d.StallingContext,S=d.StreamInterruptedContext,aa=d.TargetAudioQualityContext,ba=d.TargetVideoQualityContext,ca=d.VideoFBIDContext,da=d.VideoOriginalDimensionsContextMemoProvider,T=d.VideoPlayerMouseHoverContext,U=d.VideoPlayerMouseIdleContext,ea=d.VolumeContext,V=b("VideoPlayerHooks").useIsFullscreen,W=b("wrapWithContextProviders").makeRenderProviderFn,fa=b("wrapWithContextProviders").wrapWithContextProviders;function X(a){var c=j(a);i(function(){c.current=a},[a]);var d=k(!1),e=d[0],f=d[1];d=k(function(){var a=null;return{cleanup:function(){a&&a()},pingNotIdle:function(){a&&a();f(!1);var d=b("setTimeout")(function(){f(!0)},c.current);a=function(){b("clearTimeout")(d),a=null}}}});d=d[0];var g=d.cleanup;d=d.pingNotIdle;i(function(){return g},[g]);return{isIdle:e,pingNotIdle:d}}function Y(){var a=k(!1),b=a[0],c=a[1];a=3e3;a=X(a);var d=a.isIdle,e=a.pingNotIdle;a=h(function(){c(!0),e()},[e]);var f=h(function(){c(!1),e()},[e]),g=h(function(){c(!0),e()},[e]),i=h(function(){e()},[e]),j=h(function(){e()},[e]);return{isHovering:b,isIdle:d,onMouseDown:i,onMouseEnter:a,onMouseLeave:f,onMouseMove:g,onMouseUp:j}}function ga(a){var c=Y(),d=c.isHovering,e=c.isIdle,f=c.onMouseDown,h=c.onMouseEnter,i=c.onMouseLeave,j=c.onMouseMove;c=c.onMouseUp;var k=V();return g.jsx("div",babelHelpers["extends"]({className:"k4urcfbm kr520xx4 pmk7jnqg datstx6m"+(k&&e?" sorcqhzv":"")},b("CometVisualCompletionAttributes").IGNORE,{onMouseDown:f,onMouseEnter:h,onMouseLeave:i,onMouseMove:j,onMouseUp:c,children:g.jsx(T.Provider,{value:d,children:g.jsx(U.Provider,{value:e,children:a.children})})}))}function a(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var d=a.adClientToken,e=a.autoplayGatingResult,f=a.broadcastStatus,h=a.canAutoplay,i=a.controller,j=a.dimensions,k=a.instanceKey,T=a.isFullscreen,U=a.lastMuteReason,V=a.lastPauseReason,X=a.lastPlayReason,Y=a.originalHeight,ha=a.originalWidth,ia=a.videoFBID,Z=a.videoPlayerPassiveViewabilityInfo,$=a.videoState,ja=$.activeCaptions,ka=$.availableVideoQualities,la=$.bufferEnd,ma=$.captionsLoaded,na=$.captionsVisible,oa=$.currentVideoQuality,pa=$.duration,qa=$.ended,ra=$.error,sa=$.inbandCaptionsAutogenerated,ta=$.inPlayStalling,ua=$.isAbrEnabled,va=$.isLiveRewindActive,wa=$.loopCount,xa=$.loopCurrent,ya=$.muted,za=$.paused,Aa=$.playerImplementationName,Ba=$.playing,Ca=$.seekableRanges,Da=$.seeking,Ea=$.selectedVideoQuality,Fa=$.stalling,Ga=$.streamInterrupted,Ha=$.targetAudioQuality,Ia=$.targetVideoQuality;$=$.volume;c=g.jsx(ga,{children:c});b("cr:1269159")(k,{controller:i,coreVideoStates:a,videoPlayerPassiveViewabilityInfo:Z});a=fa(c,[W(ca,ia),W(R,Fa),W(N,Ba),W(B,ta),W(q,la),W(F,U),W(H,X),W(G,V),W(L,za),W(v,oa),W(K,ya),W(ea,$),W(Q,Ea),W(P,Da),W(x,pa),W(y,qa),W(z,ra),W(w,j||null),W(C,k),W(u,i),W(o,ka),W(M,Aa),W(D,ua),W(aa,Ha),W(ba,Ia),W(r,h),W(n,e),W(p,f),W(I,wa),W(J,xa),W(m,d),W(l,ja),W(t,na),W(s,ma),W(A,sa),W(S,Ga),W(O,Ca),W(E,va),function(a){return g.jsx(da,{originalHeight:Y,originalWidth:ha,children:a})},function(a){return g.jsx(b("VideoPlayerViewabilityProvider.react"),{isFullscreen:T,videoPlayerPassiveViewabilityInfo:Z,children:a})}]);return g.jsx("div",{"data-instancekey":k,"data-testid":void 0,children:a})}e.exports=g.memo(a)}),null);
__d("GlobalVideoPortsID",["cometUniqueID","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(){return"id-pv-"+b("cometUniqueID")()}function c(a){if(typeof a==="string"){var c="id-pv-";if(a.indexOf(c)===0&&a.length>c.length)return a;else throw b("unrecoverableViolation")('Expected a GlobalVideoPortsVideoID, got a string that does not look like it: "'+a+'"',"comet_video_player")}else return null}function d(){return"id-pp-"+b("cometUniqueID")()}e.exports={ensureVideoID:c,makePlaceID:d,makeVideoID:a}}),null);
__d("VideoPlayerFullscreenController",["CometFullScreen","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=(c=b("CometFullScreen")).exitFullScreen,h=c.getFullScreenElement,i=c.requestFullScreen,j=c.subscribeToFullScreenChangeEvent;function k(a){return a.current!=null&&h()===a.current}function a(a){var c=[];function d(){c.forEach(function(a){a()})}var e=null;return{getIsFullscreen:function(){return k(a)},requestSetIsFullscreen:function(c){var d=a.current;if(d==null)throw b("unrecoverableViolation")("Requested full screen while the element is not present","comet_video_player");c!==k(a)&&(c===!0?i(d):c===!1&&g())},subscribe:function(a){c.length===0&&e==null&&(e=j(d));c.push(a);return{remove:function(){b("removeFromArray")(c,a),c.length===0&&e!=null&&(e(),e=null)}}}}}e.exports={createFullscreenController:a}}),null);
__d("VideoPlayerPortalingPlaceState",["GlobalVideoPortsContexts","GlobalVideoPortsID","React","gkx","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g=b("GlobalVideoPortsContexts").useGlobalVideoPortsLoader,h=b("GlobalVideoPortsContexts").useGlobalVideoPortsManager,i=b("GlobalVideoPortsContexts").useGlobalVideoPortsState,j=b("GlobalVideoPortsID").makePlaceID,k=b("GlobalVideoPortsID").makeVideoID;c=b("React");var l=c.useEffect,m=c.useState;d=function(a,c){var d=b("usePrevious")(a);l(function(){a!==d&&(d!==null&&d&&!a&&c(k()))},[a,d,c])};f=function(a,b){var c=m(null),d=c[0];c=c[1];a!==d&&(d!==null&&d&&!a&&b(k()),c(a))};var n=b("gkx")("1375802")?f:d;function a(a){var b=a.portalingEnabled;a=a.portalingFromVideoID;var c=g(),d=h(),e=i(),f=d!=null&&e!=null,o=(f||c!=null)&&(b||a!=null),p=m(function(){return j()});p=p[0];var q=m(function(){return k()}),r=q[0];q=q[1];b=o&&b&&a!=null;a=b&&a!=null?a:r;n(b,q);l(function(){o&&!f&&c&&c()},[f,o,c]);return{canBecomePortableLater:o,currentVideoID:a,globalVideoPortsManager:d,globalVideoPortsState:e,thisPlaceID:p}}e.exports={useRegenerateUniqueVideoID_exportedForTest:n,useVideoPlayerPortalingPlaceState:a}}),null);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","React","getOwnObjectValues","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g=b("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,h=b("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv,i=b("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,j=b("React");c=b("React");var k=c.useRef,l=c.useState;function a(a){var c=a.coreVideoPlayerMetaData,d=a.currentVideoID,e=a.fullscreenController,f=a.globalVideoPortsManager,m=a.globalVideoPortsState,n=a.implementations,o=a.isFullscreen,p=a.portablePlaceMetaData,q=a.renderComponents,r=a.renderPlaceholder,s=a.thisPlaceID,t=a.trackingDataEncrypted,u=a.trackingNodes,v=a.viewportMarginsForViewability;a=l(function(){return h({debugRole:null})});var w=a[0],x=k(null);b("useLayoutEffect_SAFE_FOR_SSR")(function(){f.addOrUpdatePlace({coreVideoPlayerMetaData:c,fullscreenController:e,implementations:n,injectCoreVideoStatesRef:x,isFullscreen:o,portablePlaceContainer:w,portablePlaceID:s,portablePlaceMetaData:p,portableVideoID:d,renderComponents:q,renderPlaceholder:r,trackingDataEncrypted:t,trackingNodes:u,viewportMarginsForViewability:v})},[].concat(b("getOwnObjectValues")(c),[d,e,o,f,w],b("getOwnObjectValues")(p||{}),[q,r,s,t,u,v]));b("useLayoutEffect_SAFE_FOR_SSR")(function(){return function(){f.removePlace({portablePlaceID:s})}},[f,s]);a=f.getPortableVideoState(m,d);return j.jsxs(j.Fragment,{children:[j.jsx(g,{debugRole:null,domElement:w},s),j.jsx(i,{currentPlaceID:(m=(m=f.getCurrentPlaceStateForVideo(m,d))==null?void 0:m.portablePlaceID)!=null?m:null,currentVideoID:d,injectCoreVideoStatesRef:x,previousPlaceMetaData:(m=a==null?void 0:a.previousPlaceMetaData)!=null?m:null,renderComponents:q,thisPlaceID:s})]})}e.exports=a}),null);
__d("VideoPlayerPortalingPlace.react",["CometTrackingCodeContext","CometTrackingNodesContext","CometViewportMarginsContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","React","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerPortalingPlaceState","VideoPlayerPortalingPlaceWithPortaling.react","gkx","recoverableViolation","useMergeRefs","useStable","useVPVDImpression"],(function(a,b,c,d,e,f){"use strict";var g=b("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,h=b("GlobalVideoPortsID").ensureVideoID,i=b("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,j=b("React");c=b("React");var k=c.useContext,l=c.useEffect,m=c.useRef,n=c.useState,o=b("VideoPlayerFullscreenController").createFullscreenController,p=b("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,q=b("VideoPlayerPortalingPlaceState").useVideoPlayerPortalingPlaceState,r={bottom:0,left:0,right:0,top:0};function s(a){a=a||{onVPVDEnd:function(a){}};return b("useVPVDImpression")(a)}var t=j.forwardRef(function(a,b){var c=a.children;a=a.debugRole;return j.jsx(g,{debugRole:a,ref:b,children:c})});function a(a){var c=a.implementations,d=a.portalingEnabled,e=a.portalingFromVideoID,f=a.portalingPlaceMetaData,g=a.propsForVPVD,u=a.renderComponents,v=a.renderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","propsForVPVD","renderComponents","renderPlaceholder"]);l(function(){return function(){}},[]);var w=e!=null?h(e):null;e!=null&&w==null&&b("recoverableViolation")("The provided portalingFromVideoID ("+String(e)+") does not look like such an ID. The video player will not use portaling until a valid ID is provided","comet_video_player");e=q({portalingEnabled:d,portalingFromVideoID:w});d=e.canBecomePortableLater;w=e.currentVideoID;var x=e.globalVideoPortsManager,y=e.globalVideoPortsState;e=e.thisPlaceID;var z=k(b("CometViewportMarginsContext")),A=m(null);g=s(g);var B=g[0];g=g[1];var C=b("useStable")(function(){return o(A)}),D=n(C.getIsFullscreen()),E=D[0],F=D[1];l(function(){var a=C.subscribe(function(){var a=C.getIsFullscreen();F(a)});F(C.getIsFullscreen());return function(){a.remove()}},[C,F]);D=k(b("CometTrackingNodesContext"));D=D.join("");var G=k(b("CometTrackingCodeContext"));G=(G=G.encrypted_tracking[0])!=null?G:"";B=b("useMergeRefs")(A,B);z=E?r:z;if(!d)return j.jsxs(t,{debugRole:null,ref:B,children:[j.jsx(p,{currentPlaceID:e,currentVideoID:w,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:e,children:j.jsx(b("CoreVideoPlayer.react"),babelHelpers["extends"]({},a,{fullscreenController:C,implementations:c,isFullscreen:E,renderWithCoreVideoStates:u,trackingDataEncrypted:G,trackingNodes:D,viewportMarginsForViewability:z}))}),g]});if(x&&y)return j.jsxs(t,{debugRole:null,ref:B,children:[j.jsx(b("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:a,currentVideoID:w,fullscreenController:C,globalVideoPortsManager:x,globalVideoPortsState:y,implementations:c,isFullscreen:E,portablePlaceMetaData:f,renderComponents:u,renderPlaceholder:v,thisPlaceID:e,trackingDataEncrypted:G,trackingNodes:D,viewportMarginsForViewability:z}),g]});else return j.jsxs(t,{debugRole:null,ref:B,children:[j.jsx(i,{currentPlaceID:null,currentVideoID:w,originalHeight:a.originalHeight,originalWidth:a.originalWidth,previousPlaceMetaData:null,renderPlaceholder:v,thisPlaceID:e}),g]})}e.exports=a}),null);
__d("CoreVideoPlayerWithComponents.react",["React","VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback;function a(a){var c=a.children,d=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,i=a.portalingPlaceMetaData,j=a.portalingRenderPlaceholder,k=a.propsForVPVD;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","propsForVPVD"]);var l=h(function(a){return g.jsx(b("VideoPlayerComponentContainer.react"),babelHelpers["extends"]({},a,{children:c}))},[c]);return g.jsx(b("VideoPlayerPortalingPlace.react"),babelHelpers["extends"]({},a,{implementations:d,portalingEnabled:e,portalingFromVideoID:f,portalingPlaceMetaData:i,propsForVPVD:k,renderComponents:l,renderPlaceholder:j}))}e.exports=a}),null);
__d("VideoPlayerCaptions.react",["React","VideoPlayerHooks","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("VideoPlayerHooks").useActiveCaptions,j=b("VideoPlayerHooks").useVideoPlayerCaptionsReservations,k={captionsCenterAlign:{justifyContent:"taijpn5t",textAlign:"oqcyycmt"},captionsContainer:{bottom:"lhzng9rx",display:"j83agx80",justifyContent:"taijpn5t",position:"pmk7jnqg",textAlign:"oqcyycmt",transitionDuration:"pc15xi3s",transitionProperty:"flx89l3n",transitionTimingFunction:"eloblzlw",width:"k4urcfbm"},captionsDefault:{backgroundColor:"d6rk862h",color:"ljqsnud1",fontSize:"a5q79mjw",fontWeight:"ekzkrbhg",lineHeight:"j8p27hm0",marginTop:"kvgmc6g5",marginEnd:"nw5zvenu",marginBottom:"oygrvhab",marginStart:"pbhxczp3",paddingTop:"debrwdc1",paddingEnd:"m4n6deaq",paddingBottom:"pwvavz3a",paddingStart:"n1w2zk5c"},captionsLeftAlign:{justifyContent:"jifvfom9",textAlign:"hzawbc8m"},captionsRightAlign:{justifyContent:"bkfpd7mw",textAlign:"ftzlm3b6"}};function l(a){switch(a){case"center":return k.captionsCenterAlign;case"left":return k.captionsLeftAlign;case"right":return k.captionsRightAlign;default:b("recoverableViolation")("Unsupported captions text alignment: "+a,"comet_video_player")}}var m=h.memo(function(a){var c=a.activeCaptions;a=a.bottomAdjustment;a=a===void 0?0:a;var d=c==null?void 0:c.rows;if(d!=null&&d.length>0){d=d.map(function(a){return a.trim()}).filter(function(a){return!!a});return d.length>0?h.jsx("div",{className:(g||(g=b("stylex")))(k.captionsContainer,l((c=c==null?void 0:(c=c.styles)==null?void 0:c.textAlignment)!=null?c:"center")),style:{transform:"translateY("+-a+"px)"},children:h.jsx("div",{className:(g||(g=b("stylex")))(k.captionsDefault),children:d.map(function(a,b){return h.jsxs("span",{children:[a,h.jsx("br",{})]},b)})})}):null}return null});function a(){var a=i(),b=j(),c=0;b.length>0&&(c=b.filter(function(a){return a.location==="bottom"}).reduce(function(a,b){return a+b.height},0));return h.jsx(m,{activeCaptions:a,bottomAdjustment:c})}e.exports=a}),null);
__d("VideoPlayerCaptionsArea.react",["React","VideoPlayerCaptions.react","VideoPlayerContexts","VideoPlayerHooks"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useReducer,i=c.useState,j=b("VideoPlayerContexts").VideoPlayerCaptionsReservationActionsContext,k=b("VideoPlayerContexts").VideoPlayerCaptionsReservationsContext,l=b("VideoPlayerHooks").useCaptionsVisible;function m(a,b){switch(b.type){case"reserve":return a.concat(b.reservation);case"release":return a.filter(function(a){return a!==b.reservation});default:return a}}function a(a){a=a.children;var c=h(m,[]),d=c[0],e=c[1];c=i({release:function(a){e({reservation:a,type:"release"})},reserve:function(a){e({reservation:a,type:"reserve"});return a}});c=c[0];var f=l();return g.jsx(j.Provider,{value:c,children:g.jsxs(k.Provider,{value:d,children:[f?g.jsx(b("VideoPlayerCaptions.react"),{}):null,a]})})}e.exports=a}),null);
__d("VideoPlayerCaptionsController",["JSResource","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("JSResource")("VideoPlayerHTML5ApiCea608State").__setRef("VideoPlayerCaptionsController"),h=b("JSResource")("VideoPlayerHTML5ApiWebVttState").__setRef("VideoPlayerCaptionsController");function a(a){var c=a.captionsUrl,d=a.inbandCaptionsExpected,e=a.onCaptionsLoaded,f=null,i=null,j=null,k=null;function l(a){var c=h.load().then(function(b){if(c!==j)return;f=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(b){b.loadFromUrl(a)}})})["catch"](function(a){if(c!==j)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiWebVttState module: "+a.message,"comet_video_player")});return c}function m(){var a=g.load().then(function(b){if(a!==k)return;i=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(a){a.processQueue()}})})["catch"](function(c){if(a!==k)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiCea608State module: "+c.message,"comet_video_player")});return a}c!=null?j=l(c):d===!0&&(k=m());return{destroy:function(){f&&(f.destroy(),f=null),i&&(i.destroy(),i=null),j&&(j=null),k&&(k=null)},handleCea608BytesReceived:function(a){i&&i.enqueueBytes(a)},handleTimeUpdate:function(a){if(f){f.source&&f.source.handleTimeUpdate(a);return f.getCurrentScreenRepresentation()}else if(i){i.source&&i.source.handleTimeUpdate(a);return i.getCurrentScreenRepresentation()}return null},updateCaptionsUrl:function(a){f&&(f.destroy(),f=null),a!=null&&(j=l(a))},updateInbandCaptionsExpected:function(a){i&&(i.destroy(),i=null),a&&(k=m())}}}e.exports={createCaptionsController:a}}),null);
__d("VideoPlayerErrorBoundary.react",["FBLogger","React","getErrorSafe"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:null},c.hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromError=function(a){return{error:b("getErrorSafe")(a)}};var d=c.prototype;d.componentDidCatch=function(a,c){c=c.componentStack;a=b("getErrorSafe")(a);a.componentStack=c;c=this.props;var d=c.description,e=c.onError;c=c.project;var f="ErrorBoundary caught an Error";d!=null&&(f=f+" ("+d+")");d=["OZ_NETWORK","BUFFERING_TIMEOUT"];var g=!0;for(var h=0;h<d.length;h++)a.message.includes(d[h])&&(g=!1);d=b("FBLogger")(c==null?"comet_video_player":c).catching(a);g?d.fatal(f):d.warn(f);e!=null&&e(a)};d.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return c}(a.PureComponent);e.exports=c}),null);
__d("VideoPlayerAutoplayHooks",["React","VideoPlayerAutoplayContexts","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";d=b("React");var g=d.useContext,h=b("VideoPlayerAutoplayContexts").AutoplayApiContext,i=b("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext;function a(){var a=g(h);if(a==null)throw b("unrecoverableViolation")("Empty AutoplayApiContext. Are you rendering useAutoplayApi outside of VideoAutoplayManagerX?","comet_video_player");return a}function c(){return g(i)}e.exports={useAutoplayApi:a,useVideoAutoplayLocalScope:c}}),null);
__d("evaluateVideoAutoplayDefaultAllowRule",[],(function(a,b,c,d,e,f){"use strict";function a(){return"ALLOW"}a.displayName="evaluateVideoAutoplayDefaultRule";e.exports=a}),null);
__d("evaluateVideoAutoplayDefaultIgnoreRule",[],(function(a,b,c,d,e,f){"use strict";function a(){return"IGNORE"}a.displayName="evaluateVideoAutoplayDefaultIgnoreRule";e.exports=a}),null);
__d("makeSelectedAutoplayVideoSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b+"::"+a;return b}e.exports=a}),null);
__d("AutoplayRulesEngine",[],(function(a,b,c,d,e,f){"use strict";var g=-2,h=-1;a=function(){function a(a){this.$1=g,this.$2=a}var b=a.prototype;b.evaluateAutoplay=function(a,b){b=b();var c=h;if(a)for(var d=0;d<this.$2.length;d++){var e=this.$2[d](a);if(e!=="SKIP"){b=e;c=d;break}}this.$1=c;return b};b.getIndexOfLastWinningRule=function(){return this.$1};b.getRules=function(){return this.$2};return a}();e.exports=a}),null);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","React"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useEffect,h=c.useRef,i=c.useState;function a(a){var c=h(a),d=i(function(){return new(b("AutoplayRulesEngine"))(a)}),e=d[0],f=d[1];g(function(){c.current!==a&&f(function(){return new(b("AutoplayRulesEngine"))(a)})},[a]);g(function(){c.current=e.getRules()},[e]);return e}e.exports=a}),null);
__d("useConcurrentAutoplayManagementAPI",["React","removeFromArray","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";d=b("React");var g=d.useState;function a(){var a=b("useCometUniqueID")();return a}function h(){var a=[];return{isControllingComponent:function(b){var c=a.length;return a[c-1]===b},registerControllingComponent:function(c){b("removeFromArray")(a,c),a.push(c)},unregisterControllingComponent:function(c){var d=a.length;d>1&&b("removeFromArray")(a,c);return d>1}}}function c(){var a=g(function(){return h()});a=a[0];return a}e.exports={createConcurrentAutoplayManagementAPI:h,useAutoplayControlID:a,useConcurrentAutoplayManagementAPI:c}}),null);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","JSScheduler","React","VideoPlayerHooks","VideoPlayerViewabilityHooks","gkx","useIsBackgrounded"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useContext,h=c.useEffect,i=c.useMemo,j=c.useRef,k=c.useState,l=(d=b("VideoPlayerHooks")).useAdClientToken,m=d.useAutoplayGatingResult,n=d.useBroadcastStatus,o=d.useEnded,p=d.useIsFrozenPassive,q=d.useLastPauseReason,r=d.useLastPlayReason,s=d.useMuted,t=d.usePaused,u=b("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo;function a(){var a=l(),c=m(),d=n(),e=o(),f=p(),v=q(),w=r(),x=s(),y=t(),z=g(b("HiddenSubtreePassiveContext")),A=!a,B=b("useIsBackgrounded")({scrollTerminatesBackgrounded:A}),C=u();A=k(z.getCurrentState().backgrounded);var D=A[0],E=A[1];A=k(z.getCurrentState().hidden);var F=A[0],G=A[1];h(function(){function a(a,b){G(a),E(b)}var c=z.subscribeToChanges(function(c){b("gkx")("1500552")?b("JSScheduler").next(function(){var b=z.getCurrentState();a(b.hidden,b.backgrounded)}):a(c.hidden,c.backgrounded)}),d=z.getCurrentState().hidden,e=z.getCurrentState().backgrounded;b("gkx")("1500552")?b("JSScheduler").next(function(){var b=z.getCurrentState();a(b.hidden,b.backgrounded)}):a(d,e);return function(){c.remove()}},[z,E,G]);A=k(function(){return f.getCurrentState()});var H=A[0],I=A[1];h(function(){var a=f.subscribeToChanges(function(a){I(a)}),b=f.getCurrentState();I(b);return function(){a.remove()}},[f,I]);var J=i(function(){return{adClientToken:a,autoplayGatingResult:c,broadcastStatus:d,controllerIsFrozen:H,currentSubtreeIsBackgrounded:D,currentSubtreeIsHidden:F,ended:e,hiddenSubtreePassive:z,isBackgrounded:B,isFrozenPassive:f,lastPauseReason:v,lastPlayReason:w,muted:x,paused:y,videoPlayerPassiveViewabilityInfo:C}},[a,c,d,H,D,F,e,z,B,f,v,w,x,y,C]);A=k(J);var K=A[0],L=A[1],M=j(K);h(function(){M.current=K},[K]);h(function(){var a=!1;for(var b in J)if(Object.prototype.hasOwnProperty.call(J,b)&&J[b]!==M.current[b]){a=!0;break}a&&L(J)},[J,L]);return K}e.exports=a}),null);
__d("CoreVideoPlayerAutoplayClient.react",["CoreVideoPlayerAutoplayClientUtils","HiddenSubtreePassiveContext","React","VideoPlayerAutoplayHooks","VideoPlayerDebugAutoplayAPI","VideoPlayerHooks","WwwCometVideoAutoplayFalcoEvent","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","useAutoplayRulesEngine","useCometUniqueID","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],(function(a,b,c,d,e,f){"use strict";var g=b("CoreVideoPlayerAutoplayClientUtils").componentShouldPause,h=b("CoreVideoPlayerAutoplayClientUtils").log;b("React");c=b("React");var i=c.useContext,j=c.useEffect,k=c.useMemo,l=c.useRef,m=c.useState,n=b("VideoPlayerAutoplayHooks").useAutoplayApi,o=b("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope,p=(d=b("VideoPlayerHooks")).useCanAutoplay,q=d.useController,r=d.useInstanceKey,s=d.useVideoPlayerPassiveViewabilityInfo,t=b("useConcurrentAutoplayManagementAPI").useAutoplayControlID;function a(){var a=b("useCometUniqueID")(),c=p(),d=r(),e=k(function(){return b("makeSelectedAutoplayVideoSymbol")(a,d)},[a,d]),f=l(e);j(function(){f.current=e},[e]);var u=i(b("HiddenSubtreePassiveContext")),v=q(),w=t();j(function(){h(f.current,"[ASSUME CONTROL] "+w),v.registerControllingComponent(w)},[v,w]);var x=s(),y=b("useVideoAutoplayState")(),z=o(),A=l(z);j(function(){A.current=z},[z]);var B=b("useAutoplayRulesEngine")(z.autoplayLocalRules),C=c==="allow"?b("evaluateVideoAutoplayDefaultAllowRule"):b("evaluateVideoAutoplayDefaultIgnoreRule"),D=m(function(){return C}),E=D[0],F=D[1];D=m(null);var G=D[0],H=D[1];D=m(function(){return B.evaluateAutoplay(y,C)});var I=D[0],J=D[1];D=m(null);var K=D[0],L=D[1],M=l(I),N=n(),O=l(N);j(function(){O.current=N},[N]);var P=c!=="dangerously_disable_autoplay_management";j(function(){N.register(e,d,z,v,u,P);b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"register",autoplay_scope_id:A.current.autoplayScopeID,event_creation_time:Date.now(),initiator:f.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:N.getAutoplayManagerDebugInfo(A.current).selectedAutoplayVideoSymbol,target:f.current,target_current_autoplay_decision:M.current}});return function(){N.unregister(e),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"unregister",autoplay_scope_id:A.current.autoplayScopeID,event_creation_time:Date.now(),initiator:f.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:N.getAutoplayManagerDebugInfo(A.current).selectedAutoplayVideoSymbol,target:f.current,target_current_autoplay_decision:M.current}})}},[N,z,v,u,d,P,e]);j(function(){var a=function(){var c=B.evaluateAutoplay(y,C);M.current=c;var d=B.getRules(),g=B.getIndexOfLastWinningRule(),a=g>=0?d[g]:C;d=x&&x.getCurrent();g=v.getCurrentState();g=g.paused;(K===null||K!==c)&&(J(c),L(c));if(c==="PAUSE"&&!g&&v.isControllingComponent(w)){g="[PAUSE] via short-circuit on "+a.name+".";h(f.current,g);v.pause("autoplay_initiated");b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:A.current.autoplayScopeID,event_creation_time:Date.now(),initiator:f.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:N.getAutoplayManagerDebugInfo(A.current).selectedAutoplayVideoSymbol,target:f.current,target_current_autoplay_decision:c}})}(G===null||G!==a)&&(F(function(){return a}),H(function(){return a}),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"rule_changed",autoplay_scope_id:A.current.autoplayScopeID,event_creation_time:Date.now(),initiator:f.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:N.getAutoplayManagerDebugInfo(A.current).selectedAutoplayVideoSymbol,target:f.current,target_current_autoplay_decision:c}}));h(f.current,"[DECISION: "+c+"] from "+a.name);d&&N.update(e,c,d)},c=u.subscribeToChanges(function(a){u.getCurrentState().hidden||u.getCurrentState().backgrounded?v.isControllingComponent(w)||v.unregisterControllingComponent(w):v.registerControllingComponent(w)}),d=x?x.subscribe(function(){u.getCurrentState().hidden||u.getCurrentState().backgrounded?v.isControllingComponent(w)||v.unregisterControllingComponent(w):v.registerControllingComponent(w),a()}):null;a();return function(){c.remove(),d&&d.remove()}},[N,w,B,v,C,u,G,K,F,J,H,L,e,y,x]);j(function(){var a=v.isControllingComponent(w),c=v.getCurrentState();c=c.paused;g(I,M.current,c,a)&&(h(f.current,"[PAUSE] the video for "+I),v.pause("autoplay_initiated"),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:A.current.autoplayScopeID,event_creation_time:Date.now(),initiator:f.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:O.current.getAutoplayManagerDebugInfo(A.current).selectedAutoplayVideoSymbol,target:f.current,target_current_autoplay_decision:I}}))},[I,v,w]);j(function(){return function(){h(f.current,"[RELEASE CONTROL] "+w),v.unregisterControllingComponent(w)}},[v,w]);b("VideoPlayerDebugAutoplayAPI").useVideoPlayerDebugAPIDefinition({applicableRule:E,autoplayApiRef:O,autoplayDecision:I,autoplayLocalScope:z,symbol:e});return null}e.exports=a}),null);
__d("VideoPlayerCaptionsAreaDeferred.react",["requireDeferredForDisplay","React","deferredLoadComponent"],(function(a,b,c,d,e,f){"use strict";b("React");a=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerCaptionsArea.react"));e.exports=a}),null);
__d("VideoPlayerWebSessionExtender.react",["React","VideoPlayerHooks","WebSessionExtender","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useEffect,h=b("VideoPlayerHooks").usePlaying;function a(){var a=h(),c=b("useCometUniqueID")();g(function(){if(a){b("WebSessionExtender").subscribe(c,"video");return function(){b("WebSessionExtender").unsubscribe(c)}}},[a,c]);return null}e.exports=a}),null);
__d("useVideoPlayerDefaultLoadingIndicatorsLogic",["VideoPlayerHooks"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlayerHooks").useIsLiveRewindActive,h=b("VideoPlayerHooks").useStalling,i=b("VideoPlayerHooks").useStreamInterrupted;function a(){var a=h(),b=i(),c=g();b=b&&!c;c=a;a=b?"live_video_interrupted_overlay":c?"spinner":"none";return{liveVideoInterruptedOverlayVisible:b,loadingIndicatorType:a,spinnerVisible:c}}e.exports=a}),null);
__d("useVideoPlayerDefaultLoadingIndicators",["requireDeferred","requireDeferredForDisplay","CometPlaceholder.react","React","deferredLoadComponent","useVideoPlayerDefaultLoadingIndicatorsLogic"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerSpinner.react")),i=b("deferredLoadComponent")(b("requireDeferred")("VideoPlayerWithLiveVideoInterruptedOverlay.react"));function a(){var a=b("useVideoPlayerDefaultLoadingIndicatorsLogic")(),c=a.loadingIndicatorType;a=a.spinnerVisible;var d=g.jsx(b("CometPlaceholder.react"),{fallback:null,children:g.jsx(i,{})});a=g.jsx(h,{isVisible:a});var e=null;switch(c){case"spinner":e=a;break;case"live_video_interrupted_overlay":e=d;break;case"none":default:e=a}return{loadingIndicatorElement:e,loadingIndicatorType:c}}e.exports=a}),null);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCControllerRouteBuilder","clearTimeout","cometAsyncFetch","emptyFunction","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("DateConsts").MS_PER_SEC,h=Object.values(b("CVCv3DisabledPlayerOrigins")),i=Object.values(b("CVCv3DisabledPlayerSubOrigins")),j=10;a=function(){function a(a,c,d,e,f,g,j){var k=this;this.$17=function(){k.$10=null,k.$16(),k.$15(0)};this.$1=new(b("CVCv3SubscriptionHelper"))(a,c,d);this.$5=f;this.$6=null;this.$7=j;this.$10=null;this.$11=!this.$1.isValidSubscription();this.$3=null;this.$2=null;a=c!=null?h.includes(c):!1;f=d!=null?i.includes(d):!1;!a&&!f&&(this.$3=e,this.$12=g,this.$4=e.subscribe(function(){if(k.$3==null)return;var a=k.$3.getCurrentState();a.playing?k.$13(a):k.$14()}))}var c=a.prototype;c.$13=function(a){if(this.$3==null)return;var c=!1;this.$7!=null&&(c=b("gkx")("1113562"));c||(c=this.$5?!0:b("gkx")("1124976"));if(!c)return;if(a.playing){if(this.$2==null){c=this.$3.getPlayheadPosition();c>=0&&(this.$2=c)}}else this.$2=null;this.$15(0)};c.stopUnifiedCVC=function(){this.$14()};c.destroy=function(){this.$14(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null};c.$14=function(){b("clearTimeout")(this.$9),b("clearTimeout")(this.$8),this.$9=null,this.$8=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$10=null};c.$16=function(){b("clearTimeout")(this.$8),this.$8=null};c.$15=function(a){var c=this;if(this.$3==null||this.$9!=null||this.$10!=null||this.$11)return;this.$9=b("setTimeout")(function(){c.$9=null;var a=c.$18();if(a==null)return;c.$10=a;b("promiseDone")(a,function(b){if(a!==c.$10)return;c.$10=null;if(b!=null){b=c.$1.processUnifiedResponse(b);c.$19(b)}},b("emptyFunction"));c.$8=b("setTimeout")(c.$17,j*g)},a)};c.$19=function(a){this.$16();a.d!=null&&this.$12!=null&&this.$12(a.d);if(a.a!=null){var b=a.a.t;switch(b){case"p":b=a.a.pi;b==null&&(b=j);this.$15(b*g);break;case"s":this.$11=!0;break}}};c.$18=function(){var a=this.$20();if(a==null)return null;a={d:JSON.stringify(a)};return b("cometAsyncFetch")(b("XVideoUnifiedCVCControllerRouteBuilder").buildURL({}),{data:a,method:"POST"})};c.$20=function(){if(this.$3==null)return null;var a={};this.$7!=null&&(a.lr=this.$7);this.$6!=null&&(a.lc=this.$6);this.$5&&(a.ls=!0);var b=0,c=0;this.$2!=null&&(b=this.$2,c=this.$3.getPlayheadPosition());var d=this.$3.getCurrentState();b=this.$1.makeUnifiedVideoCVCUpdate(b,c,this.$21(d),d.muted,a);return b};c.$21=function(a){if(a.playing||a.seeking)return"playing";else if(a.ended)return"ended";else if(a.paused)return"paused";else return"unknown"};c.testing_setLastStartPosition=function(a){this.$2=a};c.testing_makeUnifiedStateUpdate=function(){return this.$20()};c.testing_handleUnifiedResponse=function(a){return this.$19(a)};return a}();e.exports=a}),null);
__d("getPlayerFormatForLogData",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a===!0?"full_screen":b!=null?b:"inline"}e.exports=a}),null);
__d("useVideoPlayerUnifiedCVCProvider",["UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlayerHooks").useController,h=b("VideoPlayerHooks").useIsFullscreen,i=b("VideoPlayerHooks").useIsLive;c=b("createVideoStateHook").createVideoStateHook;d=c(null);var j=d.setterHook;f=c(null);var k=f.setterHook;d=f.valueHook;function a(a){var c=a.livingRoomID,d=a.playerFormat,e=a.subOrigin,f=a.videoFBID,l=i(),m=h(),n=g(),o=j(),p=k();b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=new(b("UnifiedVideoCVCSubscription"))(f,b("getPlayerFormatForLogData")(m,d),e,n,l,function(a){p(a)},c);o(a);return function(){a.destroy()}},[c,m,l,d,p,o,e,n,f])}e.exports={useVideoPlayerUnifiedCVCData:d,useVideoPlayerUnifiedCVCProvider:a}}),null);
__d("VideoPlayerXImplSurface.react",["requireCond","cr:1483509","cr:1583596","CoreVideoPlayerAutoplayClient.react","React","VideoPlayerCaptionsAreaDeferred.react","cr:1538647","VideoPlayerWebSessionExtender.react","cr:946298","emptyFunction","useVideoPlayerDefaultLoadingIndicators","useVideoPlayerUnifiedCVCProvider"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider;function a(a){var c,d=a.children,e=a.disableLoadingIndicator;e=e===void 0?!1:e;var f=a.isSpherical,i=a.instreamVideoAdBreaksPlayer,j=a.livingRoomID,k=a.playerFormat,l=a.sphericalVideoConfig,m=a.subOrigin;a=a.videoFBID;c=(c=b("cr:1483509")==null?void 0:b("cr:1483509").useMuteUnmutedWatchAndScrollVideo)!=null?c:b("emptyFunction");h({livingRoomID:j,playerFormat:k,subOrigin:m,videoFBID:a});c();j=b("useVideoPlayerDefaultLoadingIndicators")();k=j.loadingIndicatorElement;return g.jsxs(g.Fragment,{children:[b("cr:1538647")&&f===!0&&l!=null?g.jsx(b("cr:1538647"),{sphericalVideoConfig:l}):null,e?null:k,g.jsx(b("VideoPlayerCaptionsAreaDeferred.react"),{children:d}),g.jsx(b("CoreVideoPlayerAutoplayClient.react"),{}),b("cr:1583596")?g.jsx(b("cr:1583596"),{}):null,b("cr:946298")?g.jsx(b("cr:946298"),{subOrigin:m}):null,i,g.jsx(b("VideoPlayerWebSessionExtender.react"),{})]})}e.exports=a}),null);
__d("normalizeVideoPlayerLoopCount",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c===void 0&&(c=null);d===void 0&&(d=null);if(a==null){d=((c=c)!=null?c:!1)?(c=d)!=null?c:0:0;d===-1?c=-1:d<0||!Number.isFinite(d)||Math.floor(d)!==d?c=0:c=d}else if(a===-1||a===Number.POSITIVE_INFINITY)c=-1;else if(a<0||!Number.isFinite(a)||Math.floor(a)!==a)throw b("unrecoverableViolation")("Invalid loopingCount: "+a,"comet_video_player");else c=a;return c}e.exports=a}),null);
__d("VideoPlayerXImpl.react",["CoreVideoPlayerWithComponents.react","React","VideoPlayerXImplSurface.react","normalizeVideoPlayerLoopCount","usePlayerOriginRouteTracePolicy"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.children,d=a.disableLoadingIndicator,e=a.implementations,f=a.instreamVideoAdBreaksPlayer,h=a.isSpherical,i=a.portalingEnabled,j=a.portalingFromVideoID,k=a.portalingPlaceMetaData,l=a.portalingRenderPlaceholder,m=a.propsForVPVD,n=a.sphericalVideoConfig;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableLoadingIndicator","implementations","instreamVideoAdBreaksPlayer","isSpherical","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","propsForVPVD","sphericalVideoConfig"]);var o=b("usePlayerOriginRouteTracePolicy")(),p=a.loopCount,q=a.playerFormat,r=a.subOrigin,s=a.videoFBID;p=b("normalizeVideoPlayerLoopCount")(p);return g.jsx(b("CoreVideoPlayerWithComponents.react"),babelHelpers["extends"]({},a,{implementations:e,loopCount:p,portalingEnabled:i,portalingFromVideoID:j,portalingPlaceMetaData:k,portalingRenderPlaceholder:l,propsForVPVD:m,routeTracePolicy:o,children:g.jsx(b("VideoPlayerXImplSurface.react"),{children:c,disableLoadingIndicator:d,instreamVideoAdBreaksPlayer:f,isSpherical:h,livingRoomID:a.livingRoomID,playerFormat:q,sphericalVideoConfig:n,subOrigin:r,videoFBID:s})}))}e.exports=a}),null);
__d("VideoPlayerActionButton.react",["CometLink.react","React","TetraIcon.react","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.icon,d=a.label,e=a.onPress;a=a.shouldJustifyContentCenter;a=a===void 0?!1:a;return g.jsxs("div",{className:"dati1w0a ihqw7lf3 hv4rvrfc discj3wi btwxx1t3 j83agx80 bp9cbjyn"+(a?" taijpn5t":""),children:[g.jsx("div",{className:"h4z51re5 osnr6wyh rv4hoivh jktsbyx5 tvfksri0 spb7xbtv bkmhp75w emlxlaya s45kfl79 kozd3uwk moy3fgm5 jsrkvy3z gag4i7dh",children:g.jsx(b("TetraIcon.react"),{"aria-label":d,color:"white",hideHoverOverlay:!0,icon:c,onPress:e})}),g.jsx(b("TetraText.react"),{color:"white",type:"headlineEmphasized3",children:g.jsx(b("CometLink.react"),{onClick:e,children:d})})]})}e.exports=a}),null);
__d("VideoPlayerFallbackCoverImplWithRetry.react",["ix","fbt","React","TetraText.react","VideoPlayerActionButton.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.message;a=a.onRetry;return i.jsx("div",{className:"h4z51re5 osnr6wyh rv4hoivh jktsbyx5 stjgntxs ni8dbmo4 taijpn5t datstx6m j83agx80 ora8z2hr bp9cbjyn",children:i.jsxs("div",{className:"ij9ysmuz cbu4d94t j83agx80 bp9cbjyn",children:[i.jsx("div",{className:"cbu4d94t j83agx80 bp9cbjyn",children:i.jsx(b("TetraText.react"),{align:"center",color:"white",type:"bodyLink3",children:c})}),a?i.jsx("div",{className:"tr9rh885 cbu4d94t j83agx80 bp9cbjyn",children:i.jsx(b("VideoPlayerActionButton.react"),{icon:b("fbicon")._(g("534218"),16),label:h._("Try Again"),onPress:a})}):null]})})}e.exports=a}),null);
__d("VideoPlayerFallbackCoverImplWithoutRetry.react",["React","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.message;a.onRetry;return g.jsx("div",{className:"stjgntxs ni8dbmo4 taijpn5t j83agx80 ora8z2hr bp9cbjyn kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",children:g.jsx("div",{className:"ij9ysmuz cbu4d94t j83agx80 bp9cbjyn",children:g.jsx(b("TetraText.react"),{align:"center",color:"white",type:"bodyLink3",children:c})})})}e.exports=a}),null);
__d("VideoPlayerPlayButton.react",["fbt","CometImage.react","CometPressable.react","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");function a(a){var c=a.isVisible;a=a.onClick;var d=i.jsx(b("CometImage.react"),{src:"/images/video/play_72dp.png"});a=a!=null?i.jsx(b("CometPressable.react"),{display:"inline",label:g._("Play video"),onPress:a,overlayDisabled:!0,children:d}):d;return i.jsx("i",{className:(h||(h=b("stylex"))).dedupe({"border-top-start-radius-1":"s45kfl79","border-top-end-radius-1":"emlxlaya","border-bottom-end-radius-1":"bkmhp75w","border-bottom-start-radius-1":"spb7xbtv","cursor-1":"nhd2j8a9","height-1":"rdkrh8wx","margin-top-1":"jtnsf9zi","margin-end-1":"cxmmr5t8","margin-bottom-1":"oygrvhab","margin-start-1":"kw0a5h6o","opacity-1":"pedkr2u6","position-1":"pmk7jnqg","start-1":"kfkz5moi","top-1":"rk01pc8j","width-1":"orwu60u2"},c?null:{"opacity-1":"b5wmifdl","visibility-1":"kr9hpln1"}),children:a})}e.exports=a}),null);
__d("VideoPlayerRetryableErrorBoundary.react",["React","VideoPlayerErrorBoundary.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback,i=c.useState;function a(a){var c=a.children,d=a.description,e=a.fallback;a=i(0);var f=a[0],j=a[1],k=h(function(){j(function(a){return a+1})},[]);a=h(function(){return e({retry:k})},[e,k]);return g.jsx(b("VideoPlayerErrorBoundary.react"),{description:d,fallback:a,project:"comet_video_player",children:c},f)}e.exports=a}),null);
__d("SphericalMediaGyroOverlay.react",["cx","CSS","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=800,j=function(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=!1);return{gyroRoot:"_1zvy"+(a?" _2dz7":"")+(b?" _4z8s":"")+(c?" _4z8p":""),gyroOuter:"_4z8q",gyroInner:"_4z8r",gyroMeridian:"_4z8t",gyroEquator:"_4z8u",gyroTextShell:"_4z8v",gyroText:"_4z8w"}};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.rootRef=h.createRef(),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){var c=this;if(a.isActive&&!this.props.isActive)setTimeout(function(){var a=c.rootRef.current;a instanceof Element&&b("CSS").hide(a)},i);else if(!this.props.isActive){a=this.rootRef.current;a instanceof Element&&b("CSS").hide(a)}};d.componentDidMount=function(){if(!this.props.isActive){var a=this.rootRef.current;a instanceof Element&&b("CSS").hide(a)}};d.render=function(){var a=this.props,c=a.className,d=a.isActive,e=a.isInfinite;a=a.isPaused;d=j(d,e,a);return h.jsx("div",{className:b("joinClasses")(c,d.gyroRoot),ref:this.rootRef,children:h.jsxs("div",{className:d.gyroOuter,children:[h.jsxs("div",{className:d.gyroInner,children:[h.jsx("div",{className:d.gyroMeridian}),h.jsx("div",{className:d.gyroEquator})]}),h.jsx("div",{className:d.gyroTextShell,children:h.jsx("span",{className:d.gyroText,children:"360"})})]})})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoPlayerSphericalFallbackCover.react",["fbt","React","SphericalMediaGyroOverlay.react","TetraText.react","stylex","unrecoverableViolation","useCometRouterDispatcher","useFeedClickEventHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useState;function a(a){var c=a.videoTahoeUrl,d=b("useCometRouterDispatcher")();a=i(!1);var e=a[0],f=a[1];if(d==null)throw b("unrecoverableViolation")("Missing CometRouterDispatcher","comet_video_player");a=b("useFeedClickEventHandler")(function(){d.go(c,{})});return h.jsxs("div",{className:"bkfpd7mw cbu4d94t j83agx80 nhd2j8a9 bp9cbjyn kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",onClick:a,onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},role:"link",tabIndex:0,children:[h.jsx(b("SphericalMediaGyroOverlay.react"),{isActive:!0}),h.jsx("div",{className:"l9j0dhe7 i7orit0i",children:e?h.jsx(b("TetraText.react"),{color:"white",type:"bodyLink3",children:g._("Click to expand")}):null})]})}e.exports=a}),null);
__d("useDebouncedValue",["React"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useEffect,h=c.useState;function a(a,b){var c=h(a),d=c[0],e=c[1];g(function(){var c=setTimeout(function(){return e(a)},b);return function(){return clearTimeout(c)}},[a,b]);return d}e.exports=a}),null);
__d("VideoPlayerSpinner.react",["CometLoadingAnimation.react","React","stylex","useDebouncedValue"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=36;function a(a){a=a.isVisible;var c=b("useDebouncedValue")(a,a?200:500);return h.jsx("div",{className:(g||(g=b("stylex"))).dedupe({"height-1":"tv7at329","opacity-1":"pedkr2u6","position-1":"pmk7jnqg","start-1":"kfkz5moi","top-1":"rk01pc8j","transform-0.1":"py2didcb","transition-delay-1":"chkx7lpg","transition-duration-1":"kmdw4o4n","transition-property-1":"art1omkt","transition-timing-function-1":"e4zzj2sf","width-1":"thwo4zme"},a?null:{"opacity-1":"b5wmifdl","transition-delay-1":"hwaazqwg","transition-duration-1":"kmdw4o4n","transition-property-1":"l23jz15m","transition-timing-function-1":"e4zzj2sf","visibility-1":"kr9hpln1"}),children:h.jsx(b("CometLoadingAnimation.react"),{animationPaused:!c,size:i})})}e.exports=a}),null);
__d("useVideoPlayerHasStartedPlayingAtLeastOnce",["React","VideoPlayerHooks","createVideoStateHook"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useEffect,h=b("VideoPlayerHooks").usePlaying;d=b("createVideoStateHook").createVideoStateHook;f=d(null);var i=f.stateHook;function a(){var a=i(!1),b=a[0],c=a[1],d=h();g(function(){d&&c(!0)},[d,c]);return b}e.exports=a}),null);
__d("useVideoPlayerBigPlayButtonOverlay",["React","VideoPlayerHooks","VideoPlayerPlayButton.react","useVideoPlayerHasStartedPlayingAtLeastOnce"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback,i=b("VideoPlayerHooks").useController,j=b("VideoPlayerHooks").useLastMuteReason,k=b("VideoPlayerHooks").usePaused;function a(a){a=a===void 0?{}:a;var c=a.forceVisible,d=a.overrideInteraction,e=a.shouldUnmute;a=b("useVideoPlayerHasStartedPlayingAtLeastOnce")();var f=k(),l=j(),m=i(),n=h(function(){m.play("user_initiated"),e===!0&&l!=="user_initiated"&&m.setMuted(!1,"product_initiated")},[m,l,e]);d=d!=null?d.handler:n;n=c===!0||c===!1?c:!a&&f;c=g.jsx(b("VideoPlayerPlayButton.react"),{isVisible:n,onClick:d});return{bigPlayButtonElement:c,bigPlayButtonIsVisible:n}}e.exports=a}),null);
__d("VideoPlayerInstreamAdsStateHooks",["createVideoStateHook"],(function(a,b,c,d,e,f){"use strict";b=b("createVideoStateHook").createVideoStateHook;var g=b(),h=g.stateHook,i=g.valueHook,j="INIT";function a(){return h(j)}function k(){return i(j)}g=b();var l=g.stateHook,m=g.valueHook,n=!0;function c(){return l(n)}function d(){return m(n)}g=b();var o=g.stateHook,p=g.valueHook,q=null;function f(){return o(q)}function r(){return p(q)}g=b();var s=g.stateHook,t=g.valueHook,u=null;function v(){return s(u)}function w(){return t(u)}g=b();var x=g.stateHook,y=g.valueHook,z=null;function A(){return x(z)}function B(){return y(z)}g=b();var C=g.stateHook,D=g.valueHook,E=null;function F(){return C(E)}function G(){return D(E)}function H(){var a=k();a=a==="STARTING_INDICATOR"||a==="START"||a==="START_AD";return a}e.exports={useInstreamAdsCurrentInsertionState:f,useInstreamAdsCurrentInsertionStateValue:r,useInstreamAdsExtraFieldsState:A,useInstreamAdsExtraFieldsStateValue:B,useInstreamAdsHideAdBehaviorState:F,useInstreamAdsHideAdBehaviorStateValue:G,useInstreamAdsIsEmptyState:c,useInstreamAdsIsEmptyStateValue:d,useInstreamAdsIsStart:H,useInstreamAdsState:a,useInstreamAdsStateValue:k,useStartIndicatorBeginningTimeState:v,useStartIndicatorBeginningTimeStateValue:w}}),null);
__d("useVideoPlayerDefaultControlsVisibility",["React","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerUserInteractionCounter","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useEffect,h=c.useState,i=b("VideoPlayerHooks").useIsHovering,j=b("VideoPlayerHooks").useIsMouseIdle,k=b("VideoPlayerHooks").usePaused,l=b("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart,m=b("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction,n=b("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteractionCounter,o=5e3;function a(a){a=a===void 0?{}:a;var c=a.forceVisible,d=a.forceVisibleOnMount;a.isInteracting;a=n();var e=a.ongoingInteractionsCount;a=a.onUserInteraction;var f=i(),p=k(),q=j(),r=l();m("video_pointer_active",f&&!q,a);f=h(d===!0);var s=f[0],t=f[1];g(function(){if(!p&&s){var a=b("setTimeout")(function(){t(!1)},o);return function(){b("clearTimeout")(a)}}},[s,p]);q=c===!0||c===!1?c:!r&&(e>0||p||s);return{isControlsVisible:q,onUserInteraction:a}}e.exports=a}),null);
__d("VideoPlayerDefaultControls.react",["requireDeferred","CometPlaceholder.react","CometRelay","React","VideoPlayerHooks","deferredLoadComponent","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility","VideoPlayerDefaultControls_video.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React"),j=b("VideoPlayerHooks").useIsLive,k=b("VideoPlayerHooks").useMuted,l=b("deferredLoadComponent")(b("requireDeferred")("VideoPlayerDefaultControlsImplLive.react")),m=b("deferredLoadComponent")(b("requireDeferred")("VideoPlayerDefaultControlsImplNotLive.react"));function a(a){var c=a.forceVisible,d=a.forceVisibleOnMount,e=a.isModeratorDashboard,f=a.shouldRenderLivePauseControl,n=a.shouldRenderModeratorControl,o=a.shouldRenderNavigateToTahoeControl,p=a.shouldRenderQuietModeControl,q=a.shouldRenderWatchAndScrollControl,r=a.subOrigin,s=a.video;a=a.videoTahoeUrl;s=h(g!==void 0?g:g=b("VideoPlayerDefaultControls_video.graphql"),s);var t=k(),u=j();d=b("useVideoPlayerDefaultControlsVisibility")({forceVisible:c,forceVisibleOnMount:d});var v=d.isControlsVisible;d=d.onUserInteraction;c=b("useVideoPlayerBigPlayButtonOverlay")({forceVisible:c===!1?!1:void 0});var w=c.bigPlayButtonElement;c=c.bigPlayButtonIsVisible;v=v&&!c;t=(t||v)&&!c;c=u?i.jsx(l,{isControlsVisible:v,isModeratorDashboard:e,isVolumeControlVisible:t,onUserInteraction:d,shouldRenderModeratorControl:n,shouldRenderPauseControl:f,shouldRenderQuietModeControl:p,shouldRenderWatchAndScrollControl:q,subOrigin:r,video:s,videoTahoeUrl:a}):i.jsx(m,{isControlsVisible:v,isVolumeControlVisible:t,onUserInteraction:d,shouldRenderNavigateToTahoeControl:o,subOrigin:r,video:s,videoTahoeUrl:a});return i.jsxs(i.Fragment,{children:[w,i.jsx(b("CometPlaceholder.react"),{fallback:null,children:c})]})}e.exports=a}),null);
__d("VideoPlayerBanzaiLogFlusher",["Banzai","BanzaiConsts","emptyFunction","gkx"],(function(a,b,c,d,e,f){"use strict";var g,h="video_player";a=b("emptyFunction");c=function(){function a(a){this.$1=a}var c=a.prototype;c.flushLogs=function(){var a=this.$1.consumeLoggerEvents();a.forEach(function(a){var c={event:a.eventType,logData:a.logData,routeTracePolicy:a.routeTracePolicy,source:a.subOrigin};a=(a=a.logData)==null?void 0:a.ad_client_token;var d=b("gkx")("1426867")?{batch:1500,delay:(g||(g=b("BanzaiConsts"))).VITAL_WAIT}:{delay:(g||(g=b("BanzaiConsts"))).VITAL_WAIT};b("gkx")("1107827")?b("Banzai").post(h,c,d):a!=null?b("Banzai").post(h,c,b("Banzai").VITAL):(d.delay=(g||(g=b("BanzaiConsts"))).BASIC_WAIT_COMET,b("Banzai").post(h,c,d))})};return a}();e.exports=c}),null);
__d("VideoPlayerBanzaiODS",["BanzaiODS","Random"],(function(a,b,c,d,e,f){"use strict";a={bumpEntityKey:function(a,c,d){b("Random").coinflip(d)&&b("BanzaiODS").bumpEntityKey(2079,a,c,d)}};e.exports=a}),null);
__d("VideoPlayerImplementationErrors",["getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.errorLocation,d=a.hostCallError,e=a.videoElementError,f=a.videoElementNetworkState;a=a.videoElementReadyState;var g=e==null?void 0:e.code,h=d!=null&&typeof d.message==="string"?d.message:null;h==null&&(h=e==null?void 0:e.message);h==null&&g!=null&&(h=b("getErrorMessageFromMediaErrorCode")(g));e={createdTimestamp:Date.now(),errorDescription:((e=h)!=null?e:"Empty error")+("; code: "+((h=g)!=null?h:"undefined"))+("; readyState: "+a)+("; networkState: "+f),errorLocation:c,errorName:b("getErrorNameFromMediaErrorCode")(g),originalError:d};return e}function c(a,b){if(a==null){var c={createdTimestamp:Date.now(),errorDescription:"Empty rejection reason from video play()",errorLocation:b,errorName:"PlayRejectedError"};return c}c={createdTimestamp:Date.now(),errorCode:typeof a.code==="string"?a.code:typeof a.code==="number"?String(a.code):void 0,errorDescription:typeof a.message==="string"?a.message:String(a),errorLocation:b,errorName:typeof a.name==="string"?a.name:"PlayRejectedError"};return c}function d(a,b,c){var d;d={message:(d=b==null?void 0:b.message)!=null?d:"",name:(d=b==null?void 0:b.name)!=null?d:"UnknownError",stack:(b==null?void 0:b.stack)||new Error().stack};b={createdTimestamp:Date.now(),errorCode:null,errorDescription:d.name+" "+d.message,errorLocation:c,errorName:a,stack:d.stack,url:null};return b}e.exports={createVideoPlayerErrorFromGenericError:d,createVideoPlayerErrorFromHTMLVideoElementError:a,createVideoPlayerErrorFromVideoElementPlayPromiseRejectionReason:c}}),null);
__d("VideoPlayerImplementationStateMachine",["VideoPlayerImplementationErrors","gkx","recoverableViolation","shallowEqual","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError;function h(a){var b=a.bufferingDetected,c=a.seeking;a=a.waitingForDomPlaying;return!b&&!c&&!a}function i(a){var c=a.bufferingDetected,d=a.prevPlaybackState,e=a.seeking;a=a.waitingForDomPlaying;c=h({bufferingDetected:c,seeking:e,waitingForDomPlaying:a});e=d;switch(d){case"stalling":e=c?"playing":"stalling";break;case"ended":case"paused":case"playing":break;default:d;b("recoverableViolation")("unexpected playbackState: "+d,"comet_video_player");break}return e}function j(a,c,d){switch(d.type){case"host_call_pause":case"host_call_play":case"host_call_set_current_time":case"host_call_set_volume":case"host_call_set_muted":case"host_call_set_playback_rate":case"host_call_set_video_quality":return babelHelpers["extends"]({},a,{hostCallQueue:a.hostCallQueue.concat([d])});case"dom_event_ended":return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});case"dom_event_pause":if(a.playbackState==="ended")return a;if(c.videoElementEnded===!0)return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});return a.playbackState==="paused"?a:babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play":var e=a.playbackState,f=e;switch(e){case"playing":case"stalling":case"ended":case"paused":f="stalling";break;default:e;b("recoverableViolation")("unexpected playbackState: "+e,"comet_video_player");break}e=!0;return babelHelpers["extends"]({},a,{playbackState:f,waitingForDomPlaying:e});case"dom_event_playing":f=a.bufferingDetected;e=a.seeking;var h=!1,j=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:i({bufferingDetected:f,prevPlaybackState:j,seeking:e,waitingForDomPlaying:h}),waitingForDomPlaying:h});case"dom_event_timeupdate":if(a.waitingForDomTimeUpdateAfterSeeked){f=a.bufferingDetected;j=a.seeking;e=!1;h=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:i({bufferingDetected:f,prevPlaybackState:h,seeking:j,waitingForDomPlaying:e}),waitingForDomPlaying:e,waitingForDomTimeUpdateAfterSeeked:!1})}return a;case"dom_event_seeking":f=a.playbackState;h=f;switch(f){case"paused":case"ended":break;case"stalling":case"playing":h="stalling";break;default:f,b("recoverableViolation")("unexpected playbackState: "+f,"comet_video_player")}return babelHelpers["extends"]({},a,{playbackState:h,seeking:!0,waitingForDomPlaying:!0});case"dom_event_seeked":j=a.bufferingDetected;e=a.waitingForDomPlaying;f=!1;h=a.playbackState;return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:null,playbackState:i({bufferingDetected:j,prevPlaybackState:h,seeking:f,waitingForDomPlaying:e}),seeking:f,waitingForDomTimeUpdateAfterSeeked:!0});case"dom_event_error":j=g({errorLocation:"dom_event_error",hostCallError:null,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:j,playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play_promise_created":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:d.payload.hostCallPlayID});case"dom_event_play_promise_resolved":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"dom_event_play_promise_rejected":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null,playbackState:a.playbackState==="stalling"?"paused":a.playbackState,waitingForDomPlaying:!1});case"implementation_host_call_queue_flushed":return babelHelpers["extends"]({},a,{hostCallQueue:[]});case"implementation_host_call_failed":h=g({errorLocation:d.payload.errorLocation,hostCallError:d.payload.hostCallError,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:h,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_video_node_unmounted":return a;case"implementation_engine_initialized":return babelHelpers["extends"]({},a,{availableQualities:d.payload.availableQualities,selectedVideoQuality:d.payload.selectedVideoQuality,targetVideoQuality:d.payload.targetVideoQuality});case"implementation_engine_destroyed":return a;case"implementation_fatal_error":return babelHelpers["extends"]({},a,{error:d.payload.fatalError,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:d.payload.seekSourcePosition});case"representation_changed":return babelHelpers["extends"]({},a,{targetVideoQuality:d.payload.targetVideoQuality});case"controller_pause_requested":return a.playbackState==="ended"?a:babelHelpers["extends"]({},a,{lastPauseReason:d.payload.reason,playbackState:"paused",waitingForDomPlaying:!1});case"controller_play_requested":if(a.playbackState!=="paused"&&a.playbackState!=="ended")return a;e=a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1?d.payload.reason==="loop_initiated"?a.loopCurrent+1:a.loopCurrent:0;return babelHelpers["extends"]({},a,{lastPlayReason:d.payload.reason,loopCurrent:e,playbackState:"stalling",waitingForDomPlaying:!0});case"controller_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(f=c.videoElementPlayheadPosition)!=null?f:a.implementationSeekSourcePosition,seekTargetPosition:d.payload.seekTargetPosition,seeking:!0});case"controller_quality_requested":return babelHelpers["extends"]({},a,{selectedVideoQuality:d.payload.selectedVideoQuality});case"controller_muted_requested":return babelHelpers["extends"]({},a,{lastMuteReason:d.payload.reason,muted:d.payload.muted});case"controller_volume_requested":return babelHelpers["extends"]({},a,{volume:d.payload.volume});case"controller_scrub_begin_requested":return a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!0,seekTargetPosition:null});case"controller_scrub_end_requested":return!a.scrubbing?a:babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(j=c.videoElementPlayheadPosition)!=null?j:a.implementationSeekSourcePosition,scrubbing:!1,seekTargetPosition:d.payload.seekTargetPosition,seeking:d.payload.seekTargetPosition!=null});case"buffering_begin_requested":h=a.playbackState;e=h;switch(h){case"paused":case"ended":break;case"playing":case"stalling":e="stalling";break;default:h;b("recoverableViolation")("unexpected playbackState: "+h,"comet_video_player");break}return babelHelpers["extends"]({},a,{bufferingDetected:!0,playbackState:e});case"buffering_end_requested":f=a.seeking;c=a.waitingForDomPlaying;j=!1;h=a.playbackState;return babelHelpers["extends"]({},a,{bufferingDetected:j,playbackState:i({bufferingDetected:j,prevPlaybackState:h,seeking:f,waitingForDomPlaying:c})});case"controller_set_captions_visible_requested":e=d.payload.captionsVisible;return a.captionsVisible===e?a:babelHelpers["extends"]({},a,{activeCaptions:e?a.activeCaptions:null,captionsVisible:e});case"controller_set_active_captions_requested":j=d.payload.activeCaptions;f=(h=j==null?void 0:j.rows)!=null?h:[];c=a.activeCaptions;var k=(e=c==null?void 0:c.rows)!=null?e:[];return k.length===f.length&&f.every(function(a,b){return k[b]===a})?a:babelHelpers["extends"]({},a,{activeCaptions:j});case"captions_loaded":return babelHelpers["extends"]({},a,{activeCaptions:a.activeCaptions,captionsLoaded:!0});case"captions_unloaded":return babelHelpers["extends"]({},a,{activeCaptions:null,captionsLoaded:!1});case"inband_captions_autogenerated_changed":h=d.payload.inbandCaptionsAutogenerated;return a.inbandCaptionsAutogenerated===h?a:babelHelpers["extends"]({},a,{inbandCaptionsAutogenerated:h});case"stream_ended":return babelHelpers["extends"]({},a,{streamEnded:!0});case"stream_interrupted":return babelHelpers["extends"]({},a,{streamInterrupted:!0});case"stream_resumed":return babelHelpers["extends"]({},a,{streamInterrupted:!1});case"seekable_ranges_changed":c=d.payload.seekableRanges;return babelHelpers["extends"]({},a,{seekableRanges:c});case"controller_set_is_live_rewind_active_requested":e=d.payload.isLiveRewindActive;return babelHelpers["extends"]({},a,{isLiveRewindActive:e});case"loop_count_change_requested":f=d.payload.loopCount;return f===a.loopCount?a:babelHelpers["extends"]({},a,{loopCount:f,loopCurrent:0});default:return a}}function k(a,c,d){var e=c.type!=="dom_seeking";e=e?d:a.uncontrolledState;d=!b("shallowEqual")(e,a.uncontrolledState);c=j(a.controlledState,e,c);var f=!b("shallowEqual")(c,a.controlledState);return d||f?babelHelpers["extends"]({},a,{controlledState:f?c:a.controlledState,uncontrolledState:d?e:a.uncontrolledState}):a}var l,m;function n(a){var c=a.collectUncontrolledState,d=a.initialState,e=a.onDispatched,f=a.onFatalError,g=d,h=g,i=0,j=!1,l=!1,m=!0,n=!0;return{dispatch:function(a){if(!n)return;var d=null,g=null;try{++i;if(i>=10)if(!j){j=!0;throw b("unrecoverableViolation")("Video player state machine loop detected","comet_video_player")}else return;var o=h.uncontrolledState;if(m)try{o=c()}catch(a){m=!1,g=a}var p=h;o=k(p,a,o);h=o;e(p,o,a)}catch(a){n=!1,d=a}finally{if(!l&&(d!=null||g!=null)){l=!0;try{f((p=d)!=null?p:g)}catch(a){}}--i}},getCurrentState:function(){return h},getInitialState:function(){return g}}}var o,p;function a(a){var b=a.collectUncontrolledState,c=a.stateTransitionHandlers,d=a.initialState;a=a.onFatalError;function e(a,b,d){try{var e=!0,f=0;while(e&&f<c.length){var g=c[f];e=g(a,b,d);++f}}finally{}}return n({collectUncontrolledState:b,initialState:d,onDispatched:e,onFatalError:a})}function c(a,b){function c(){}function d(a){return a}function e(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c)}}return{onAbort:c,onCanPlay:c,onCanPlayThrough:c,onDurationChange:e({type:"dom_event_durationchange"}),onEmptied:c,onEncrypted:c,onEnded:e({type:"dom_event_ended"}),onError:function(c){var e=d(c.currentTarget);b(e,["reactEvent("+c.type+")"]);a.dispatch({payload:{videoElementError:e.error,videoElementNetworkState:e.networkState,videoElementReadyState:e.readyState},type:"dom_event_error"})},onLoadStart:c,onLoadedData:c,onLoadedMetadata:c,onPause:e({type:"dom_event_pause"}),onPlay:e({type:"dom_event_play"}),onPlaying:e({type:"dom_event_playing"}),onProgress:e({type:"dom_event_progress"}),onRateChange:e({type:"dom_event_ratechange"}),onSeeked:e({type:"dom_event_seeked"}),onSeeking:e({type:"dom_event_seeking"}),onStalled:c,onSuspend:c,onTimeUpdate:e({type:"dom_event_timeupdate"}),onVolumeChange:e({type:"dom_event_volumechange"}),onWaiting:e({type:"dom_event_waiting"})}}e.exports={createReactVideoElementCallbacksForStateMachine:c,createVideoPlayerImplementationStateMachine:n,createVideoPlayerImplementationStateMachineWithStateTransitionHandlers:a}}),null);
__d("VideoPlayerImplementationStateMachineHostCallQueue",["cometUniqueID","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";c=b("emptyFunction");function g(){return"id-vpdom-"+b("cometUniqueID")()}function h(a){var c=a.engineExtrasAPI,d=a.hostCall,e=a.machine;a=a.videoElementAPI;switch(d.type){case"host_call_play":var f=a.play();f&&(e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_created"}),b("promiseDone")(f.then(function(){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_resolved"})},function(a){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID,playPromiseRejectionReason:a},type:"dom_event_play_promise_rejected"})})));break;case"host_call_pause":a.pause();break;case"host_call_set_playback_rate":a.setPlaybackRate(d.payload.playbackRate);break;case"host_call_set_muted":a.setMuted(d.payload.muted);break;case"host_call_set_volume":a.setVolume(d.payload.volume);break;case"host_call_set_current_time":a.setPlayheadPosition(d.payload.currentTime);break;case"host_call_set_video_quality":c.setUserSelectedVideoQuality(d.payload.selectedVideoQuality);break;default:d.type;return!1}return!0}function i(a){var b=a.engineExtrasAPI,c=a.hostCall,d=a.machine;a=a.videoElementAPI;if(!a||!b)d.dispatch(c);else{var e=!1;try{e=h({engineExtrasAPI:b,hostCall:c,machine:d,videoElementAPI:a})}catch(b){d.dispatch({payload:{errorLocation:"apply_host_call_catch",hostCall:c,hostCallError:b,videoElementError:a.getError(),videoElementNetworkState:a.getNetworkState(),videoElementReadyState:a.getReadyState()},type:"implementation_host_call_failed"})}e&&d.dispatch({payload:{hostCall:c},type:"implementation_host_call_applied"})}}function j(a){var b=[];function c(){b=b.filter(function(a){return a.type!=="host_call_play"&&a.type!=="host_call_pause"})}function d(a){b=b.filter(function(b){return b.type!==a})}a.forEach(function(a){switch(a.type){case"host_call_play":c();break;case"host_call_pause":c();break;case"host_call_set_playback_rate":d(a.type);break;case"host_call_set_muted":d(a.type);break;case"host_call_set_volume":d(a.type);break;case"host_call_set_current_time":d(a.type);break;case"host_call_set_video_quality":d(a.type);break;default:a.type}b=b.concat([a])});return b}function a(a){var b=a.engineExtrasAPI,c=a.machine,d=a.reason,e=a.state,f=a.videoElementAPI;a=[{payload:{hostCallID:g(),reason:d,volume:e.controlledState.volume},type:"host_call_set_volume"},{payload:{hostCallID:g(),muted:e.controlledState.muted,reason:d},type:"host_call_set_muted"},{payload:{hostCallID:g(),reason:d,selectedVideoQuality:e.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"}];d=j(e.controlledState.hostCallQueue.concat(a));d.forEach(function(a){i({engineExtrasAPI:b,hostCall:a,machine:c,videoElementAPI:f})});c.dispatch({payload:{hostCallsFlushed:d},type:"implementation_host_call_queue_flushed"})}e.exports={applyOrQueueHostCall:i,flushHostCallQueue:a,makeHostCallID:g}}),null);
__d("VideoPlayerMutedStateChange",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.currMuted,c=a.currVolume,d=a.prevMuted;a=a.prevVolume;b=b||c===0;c=d||a===0;if(c===b)return null;return b?"muted":"unmuted"}e.exports={getVideoPlayerMutedStateChange:a}}),null);
__d("VideoPlayerImplementationStateMachineLogger",["VideoMimeTypes","VideoPlayerConnectionQuality","VideoPlayerLoggerPlayerStates","VideoPlayerMutedStateChange","VideoPlayerStateBasedLoggingEvents","emptyFunction","getPlayerFormatForLogData","getVideoBrowserTabId","gkx","mapObject","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f){"use strict";var g,h=b("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange,i=6e4,j=.5,k=null,l=function(a){var b;k=(b=k)!=null?b:document.createElement("video");return!("canPlayType"in k)?"":k.canPlayType(a)};d=c=b("emptyFunction");f=c;d=c;f=c;function m(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,debugSubscribers:[],dontLogPauseOnUnpausedSeeking:!1,hasLoggedStallData:!1,hasLoggedStartedPlaying:!1,hasPausedOnce:!1,hasPendingRequestedPlaying:!1,initialSuborigin:void 0,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedFullscreenState:!1,lastLoggedViewabilityPercentage:void 0,lastStartTimePosition:null,lastTrackedRepresentation:null,nextHeartbeatTime:null,sequenceNumber:0,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1,stallCount:0,stallCount200ms:0,stallDuration:0,stallStartTimestamp:0,stallCountTotal:0,stallDurationTotal:0,startStallCountTotal:0,startStallDurationTotal:0,vplEventSequenceNumber:0}}function n(a,b){return b==="muted"||b==="unmuted"||b==="started_playing"||b==="caption_change"||b==="unpaused"?a.controlledState.captionsVisible?"on":"off":void 0}function a(a){var c=new Map(),d=a.initialLoggingMetaData,e=d,f=[],k=m(),o=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);function p(a){k.debugSubscribers.push(a);return function(){b("removeFromArray")(k.debugSubscribers,a)}}function q(a){k.debugSubscribers.forEach(function(b){return b(a)})}function r(a){var b=k.stallStartTimestamp;if(b>0){k.stallCount+=1;k.stallCountTotal+=1;k.hasPendingRequestedPlaying&&(k.startStallCountTotal+=1);a=a-b;k.stallDurationTotal+=a;k.stallDuration+=a;k.stallCount200ms+=a>200?1:0;k.hasPendingRequestedPlaying&&(k.startStallDurationTotal+=a)}}function s(a,b){a=a.uncontrolledState.videoElementPlayheadPosition==null?null:a.uncontrolledState.videoElementPlayheadPosition;var c=null;switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"heart_beat":case"representation_ended":c=k.lastStartTimePosition;break;case"scrubbed":c=a;break;default:break}switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"scrubbed":k.lastStartTimePosition=null;break;case"started_playing":case"unpaused":case"heart_beat":case"representation_ended":k.lastStartTimePosition=a;break;default:break}return{video_last_start_time_position:c}}function t(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.playbackState;var d=b.controlledState.playbackState;a!=="stalling"&&d==="stalling"&&(q("stall_start"),k.stallStartTimestamp=c);a==="stalling"&&d!=="stalling"&&(r(b.uncontrolledState.clockTimestamp),k.stallStartTimestamp=0,q("stall_end"))}function u(a,b,c){var d={stall_count:null,stall_count_200_ms:null,stall_time:null},e=b.uncontrolledState.clockTimestamp,f=function(){var a={stall_count:k.stallCount,stall_count_200_ms:k.stallCount200ms,stall_time:k.stallDuration};k.stallCount=0;k.stallCount200ms=0;k.stallDuration=0;k.stallStartTimestamp=0;return a};a=a.controlledState.playbackState;var g=b.controlledState.playbackState;a!=="stalling"&&g==="stalling"&&(k.stallStartTimestamp=e);switch(c){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"cancelled_requested_playing":case"representation_ended":r(b.uncontrolledState.clockTimestamp);d=f();break;case"heart_beat":b.controlledState.playbackState!=="stalling"&&(r(b.uncontrolledState.clockTimestamp),d=f());break;default:break}return d}function v(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function w(){return{state:k.hasLoggedStartedPlaying?b("VideoPlayerLoggerPlayerStates").UNPAUSED:b("VideoPlayerLoggerPlayerStates").STARTED}}function x(e){var g=e.eventType,h=e.logDataOverrides,i=e.prevState,j=e.state;e=s(j,g);e=e.video_last_start_time_position;i=u(i,j,g);var l=i.stall_count,m=i.stall_count_200_ms;i=i.stall_time;var p=[],q=a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplayGatingResult;q&&p.push(q);q=g==="entered_fs"?!0:g==="exited_fs"?!1:k.lastLoggedFullscreenState;var r=b("getPlayerFormatForLogData")(q,d.coreVideoPlayerMetaData.playerFormat),t=j.uncontrolledState.viewabilityPercentage,w=Boolean(j.uncontrolledState.isFBIsLiveTemplated),x=Boolean(j.uncontrolledState.isFBWasLive);x={ad_client_token:d.coreVideoPlayerMetaData.adClientToken,autoplay_eligible:a.initialLoggingMetaData.coreVideoPlayerMetaData.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(p),autoplay_setting:a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplaySetting,broadcaster_origin:a.initialLoggingMetaData.coreVideoPlayerMetaData.broadcasterOrigin,browser_tab_id:b("getVideoBrowserTabId")(),caption_state:n(j,g),current_viewability_percentage:t,data_connection_quality:b("VideoPlayerConnectionQuality").evaluate(function(){return j.uncontrolledState.estimatedBandwidth}),dropped_frame_count:j.uncontrolledState.videoElementDroppedFrameCount,external_log_id:d.coreVideoPlayerMetaData.externalLogID,external_log_type:d.coreVideoPlayerMetaData.externalLogType,is_abr_enabled:j.isAbrEnabled,is_fbms:j.uncontrolledState.isFBMS,is_sound_on:!j.controlledState.muted,is_live_video_rewound:j.controlledState.isLiveRewindActive,is_templated_manifest:w||x,last_viewability_percentage:k.lastLoggedViewabilityPercentage,living_room_session_id:a.initialLoggingMetaData.coreVideoPlayerMetaData.livingRoomID,playback_is_drm:Boolean(a.initialLoggingMetaData.coreVideoPlayerMetaData.graphQLVideoDRMInfo),playback_duration:j.uncontrolledState.videoElementDuration,playback_is_broadcast:a.initialLoggingMetaData.coreVideoPlayerMetaData.isVideoBroadcast,playback_is_live_streaming:a.initialLoggingMetaData.coreVideoPlayerMetaData.isLiveStreaming,player_format:r,player_instance_key:d.instanceKey,player_origin:d.coreVideoPlayerMetaData.playerOriginOverride,player_state:v(j),player_suborigin:d.coreVideoPlayerMetaData.subOrigin,player_version:j.playerVersion,representation_id:j.uncontrolledState.videoRepresentationID,stall_count:l,stall_count_200_ms:m,stall_time:i,streaming_format:j.streamingFormat,total_frame_count:j.uncontrolledState.videoElementTotalFrameCount,tracking_data_encrypted:a.initialLoggingMetaData.trackingDataEncrypted,tracking_nodes:a.initialLoggingMetaData.trackingNodes,v2_heart_beat:b("gkx")("1434599")&&g==="heart_beat"?!0:null,video_bandwidth:j.uncontrolledState.estimatedBandwidth,video_id:d.coreVideoPlayerMetaData.videoFBID,video_last_start_time_position:e,video_play_reason:j.controlledState.lastPlayReason,video_player_height:(p=d.dimensions)==null?void 0:p.height,video_player_width:(w=d.dimensions)==null?void 0:w.width,video_time_position:j.uncontrolledState.videoElementPlayheadPosition};r={event_seq_num:++k.vplEventSequenceNumber,seq_num:o.has(g)?++k.sequenceNumber:null,time_ms:Date.now()};var y={};c.forEach(function(a,b){y[b]=a});l=babelHelpers["extends"]({},y,x,h,r);i=(m=k.initialSuborigin)!=null?m:d.coreVideoPlayerMetaData.subOrigin;p=(e=d.coreVideoPlayerMetaData.initialTracePolicy)!=null?e:d.coreVideoPlayerMetaData.routeTracePolicy;w={eventType:g,logData:l,routeTracePolicy:p,subOrigin:i};f.push(w);k.initialSuborigin==null&&i!=null&&(k.initialSuborigin=i);k.lastLoggedFullscreenState=q;g==="viewability_changed"&&(k.lastLoggedViewabilityPercentage=t)}var y={};function z(a,b,c){x({eventType:"requested_playing",logDataOverrides:babelHelpers["extends"]({},c,w()),prevState:a,state:b});k.hasPendingRequestedPlaying=!0;k.canLogPausedOrFinishedPlaying=!0;return y}function A(a,b,c){if(!k.canLogPausedOrFinishedPlaying)return y;else if(k.hasPendingRequestedPlaying){B(a,b,c);k.canLogPausedOrFinishedPlaying=!1;k.hasPendingRequestedPlaying=!1;return y}else{x({eventType:"paused",logDataOverrides:c,prevState:a,state:b});k.canLogPausedOrFinishedPlaying=!1;k.hasPendingRequestedPlaying=!1;return y}}function B(a,b,c){x({eventType:"cancelled_requested_playing",logDataOverrides:babelHelpers["extends"]({},c,w()),prevState:a,state:b});return y}function C(a,b,c){if(c.type==="dom_event_play_promise_rejected"&&k.hasPendingRequestedPlaying){c=c.payload.playPromiseRejectionReason;if(c!=null&&c.name==="NotAllowedError"){B(a,b,{debug_reason:"not_allowed"});return y}else return y}else return y}function D(a,b,c){if((c.type==="controller_play_requested"||c.type==="dom_event_play"&&!k.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==b.controlledState.playbackState){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;z(a,b,c);return y}else return y}function E(a,b,c){if(a.controlledState.playbackState==="stalling"&&b.controlledState.playbackState==="playing"&&k.canLogPlayingEvent){x({eventType:k.hasLoggedStartedPlaying?"unpaused":"started_playing",prevState:a,state:b});k.hasLoggedStartedPlaying=!0;k.canLogPlayingEvent=!1;k.hasPendingRequestedPlaying=!1;return y}else return y}function F(a,c,d){var e=c.controlledState.playbackState,f=a.controlledState.playbackState;if(d.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){A(a,c);k.isLoggingScrubbingSequence=!0;return y}else if(!a.controlledState.seeking&&c.controlledState.seeking&&!k.isLoggingScrubbingSequence&&e!=="paused"&&e!=="ended"&&!k.hasPendingRequestedPlaying){A(a,c);k.shouldLogRequestedPlayingForScrub=!0;return y}else if(d.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){z(a,c,{video_time_position:d.payload.seekTargetPosition});return y}else if(a.controlledState.seeking&&!c.controlledState.seeking){d=c.uncontrolledState.videoElementPlayheadPosition;var g=a.controlledState.implementationSeekSourcePosition;(!b("gkx")("1482680")||g!=null&&d!=null&&Math.abs(g-d)>j)&&(k.shouldLogRequestedPlayingForScrub&&e!=="paused"&&e!=="ended"&&z(a,c),x({eventType:"scrubbed",prevState:a,state:c}),k.isLoggingScrubbingSequence=!1,k.shouldLogRequestedPlayingForScrub=!1,f!=="paused"&&f!=="ended"&&(k.canLogPlayingEvent=!0));return y}else return y}function G(a,b,c){if(a.controlledState.playbackState!==b.controlledState.playbackState&&b.controlledState.playbackState==="ended"&&k.canLogPausedOrFinishedPlaying){x({eventType:"finished_playing",prevState:a,state:b});k.canLogPausedOrFinishedPlaying=!1;return y}else return y}function H(a,b,c){if((c.type==="controller_pause_requested"||c.type==="dom_event_pause"&&!k.shouldIgnoreDomPause)&&a.controlledState.playbackState!==b.controlledState.playbackState){A(a,b);return y}else return y}function I(a,c,d){var e=c.controlledState.playbackState;if(e!=="paused"&&e!=="ended"){b("gkx")("1469813")&&d.type==="implementation_video_node_unmounted"?A(a,a,{debug_reason:"unloaded"}):(d.type==="implementation_unmounted"||d.type==="implementation_engine_destroy_requested")&&A(a,c,{debug_reason:"unloaded"});return y}else return y}function J(a,c,d){d=c.controlledState.muted;var e=c.controlledState.volume,f=a.controlledState.muted,g=a.controlledState.volume;d=h({currMuted:d,currVolume:e,prevMuted:f,prevVolume:g});f={current_volume:Math.round(e*100)};switch(d){case"muted":x({eventType:"muted",logDataOverrides:f,prevState:a,state:c});return y;case"unmuted":x({eventType:"unmuted",logDataOverrides:f,prevState:a,state:c});return y;case null:if(g<e){x({eventType:"volume_increase",logDataOverrides:f,prevState:a,state:c});return y}else if(g>e){x({eventType:"volume_decrease",logDataOverrides:f,prevState:a,state:c});return y}else return y;default:d;b("recoverableViolation")('Unexpected mutedStateChange "'+d+'"',"comet_video_player");return y}}function K(a,b,c){c=b.uncontrolledState.videoRepresentationID;var d=k.lastTrackedRepresentation,e=b.controlledState.playbackState,f=b.controlledState.seeking;if(!f&&e!=="paused"&&e!=="ended"&&d!=null&&d!==c){x({eventType:"representation_ended",logDataOverrides:{next_representation_id:c,representation_id:d},prevState:a,state:b});k.lastTrackedRepresentation=c;q("quality_change");return y}else if(d==null&&d!==c){k.lastTrackedRepresentation=c;return y}else return y}function L(a,c){var e=a.controlledState.error;return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(d.coreVideoPlayerMetaData.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:d.coreVideoPlayerMetaData.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:void 0,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:d.coreVideoPlayerMetaData.videoFBID},player:{canPlayType:(g||(g=b("mapObject")))(b("VideoMimeTypes"),l),dimensions:d.dimensions?{height:d.dimensions.height,width:d.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,inPlayStallCount:void 0,inPlayStallTime:void 0,initializationTime:void 0,initializationTimestamp:void 0,interruptCount:void 0,interruptTime:void 0,lastError:e,loggedError:k.lastLoggedError,stack:e==null?void 0:e.stack,stallCount:k.stallCount,stallTime:k.stallDuration,state:v(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:c,state:a}}}function M(a,c,d){var e=c.controlledState.error;if(e!=null&&e!==k.lastLoggedError&&e.errorCode!=="410"){var f=e.errorDescription,g=e.errorName,h=e.url,i=e.errorCode==null||e.errorCode===""?g:e.errorCode;d=L(c,d);x({eventType:"error",logDataOverrides:babelHelpers["extends"]({},b("gkx")("1565232")?w():null,{error:g,error_code:i,error_description:f,error_domain:g,error_user_info:JSON.stringify(d),resource_url:h}),prevState:a,state:c});k.lastLoggedError=e}return y}function N(a,b,c){c=b.controlledState.playbackState;c==="paused"||c==="ended"?k.nextHeartbeatTime=null:c!=="stalling"&&k.nextHeartbeatTime==null&&(k.nextHeartbeatTime=Date.now()+i);var d=k.nextHeartbeatTime;if(d!=null){var e=Date.now();e>=d&&(c!=="stalling"&&x({eventType:"heart_beat",prevState:a,state:b}),k.nextHeartbeatTime=e+i)}return y}function O(a,b,c){if(c.type==="implementation_mounted"){x({eventType:"player_loaded",prevState:a,state:b});return y}else return y}function P(a,b,c){x({eventType:c?"entered_fs":"exited_fs",prevState:a,state:b})}function Q(a,b,c){c=d.coreVideoPlayerMetaData.playerFormat;e.coreVideoPlayerMetaData.playerFormat!==c&&x({eventType:"player_format_changed",prevState:a,state:b});return y}function R(a,b,c){if(c.type!=="notify_fullscreen_changed")return y;c=k.lastLoggedFullscreenState;var d=b.uncontrolledState.isFullscreen;if(c!==!0&&d===!0){P(a,b,d);return y}else if(c===!0&&d===!1){P(a,b,d);return y}else return y}function S(a,c,e){e=d.coreVideoPlayerMetaData.adClientToken;if((e==null||e==="")&&b("gkx")("1401747"))return y;e=c.controlledState.playbackState;var f=k.lastLoggedViewabilityPercentage,g=c.uncontrolledState.viewabilityPercentage;if(e!=="paused"&&e!=="ended"&&f!=null&&f!==g){x({eventType:"viewability_changed",prevState:a,state:c});return y}else return y}function T(a,b,c){if(c.type==="controller_set_captions_visible_requested"){x({eventType:"caption_change",prevState:a,state:b});return y}else return y}function U(a){e=d;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;d=a}}return{addDebugSubscriber:function(a){return p(a)},consumeLoggerEvents:function(){var a=f.splice(0);return a},getLoggerState:function(){return k},handleStateMachine:function(a,b,c){U(c);var d=b.controlledState.playbackState;t(a,b);var e=[Q,R,S,C,D,F,E,G,H,J,I,O,T,K,M,N];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(k.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(k.hasPausedOnce=!0,k.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(k.hasPausedOnce=!0,k.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(k.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(k.shouldIgnoreDomPlay=!1,k.lastLoggedViewabilityPercentage=b.uncontrolledState.viewabilityPercentage)},setAdditionalLogData:function(a,b){c.set(a,b)}}}e.exports={HEARTBEAT_INTERVAL:i,createVideoPlayerImplementationStateMachineLogger:a}}),null);
__d("convertToViewabilityPercentage",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a>=.99)return 100;else if(a>=.75)return 75;else if(a>=.5)return 50;else if(a>=.25)return 25;else if(a>=0)return 0;else return-2}e.exports=a}),null);
__d("VideoPlayerImplementationStateMachineStateUncontrolledState",["convertToViewabilityPercentage","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.engineExtrasAPI,d=a.fullscreenControllerRef,e=a.videoElementAPI,f=a.videoLiveTraceRef;a=a.videoPlayerPassiveViewabilityInfoRef;f=f.current;if(e==null){var g={audioRepresentationID:void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:void 0,estimatedBandwidth:void 0,isFBIsLiveTemplated:void 0,isFBMS:void 0,isFBWasLive:void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,liveTraceContext:f?f.getLiveTraceContext():void 0,videoElementDebugCurrentSrc:void 0,videoElementDebugSrc:void 0,videoElementDroppedFrameCount:void 0,videoElementDuration:void 0,videoElementEnded:void 0,videoElementError:void 0,videoElementLastBufferEndPosition:void 0,videoElementMuted:void 0,videoElementNetworkState:void 0,videoElementPaused:void 0,videoElementPlaybackRate:void 0,videoElementPlayheadPosition:void 0,videoElementReadyState:void 0,videoElementTotalFrameCount:void 0,videoElementVolume:void 0,videoRepresentationID:void 0,viewabilityPercentage:void 0};return g}g=e.getPlayheadPosition();a=a&&a.current;a=a&&a.getCurrent();d={audioRepresentationID:c?c.getAudioRepresentationIDAtTime(g):void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:c?c.getCurrentPlayingVideoQuality():void 0,estimatedBandwidth:c?c.getEstimatedBandwidth():void 0,isFBIsLiveTemplated:c?c.isFBIsLiveTemplated():void 0,isFBMS:c?c.isFBMS():void 0,isFBWasLive:c?c.isFBWasLive():void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,liveTraceContext:f?f.getLiveTraceContext():void 0,videoElementDebugCurrentSrc:b("gkx")("1526990")?(d=e.getUnderlyingVideoElement())==null?void 0:d.currentSrc:void 0,videoElementDebugSrc:b("gkx")("1526990")?(f=e.getUnderlyingVideoElement())==null?void 0:f.src:void 0,videoElementDroppedFrameCount:e.getDroppedFrameCount(),videoElementDuration:e.getDuration(),videoElementEnded:e.getEnded(),videoElementError:e.getError(),videoElementLastBufferEndPosition:e.getLastBufferEndPosition(),videoElementMuted:e.getMuted(),videoElementNetworkState:e.getNetworkState(),videoElementPaused:e.getPaused(),videoElementPlaybackRate:e.getPlaybackRate(),videoElementPlayheadPosition:g,videoElementReadyState:e.getReadyState(),videoElementTotalFrameCount:e.getTotalFrameCount(),videoElementVolume:e.getVolume(),videoRepresentationID:c?c.getVideoRepresentationIDAtTime(g):void 0,viewabilityPercentage:a?b("convertToViewabilityPercentage")(a.visiblePercentage):void 0};return d}e.exports={createVideoPlayerImplementationStateMachineStateUncontrolledState:a}}),null);
__d("VideoPlayerImplementationStateMachineState",["VideoPlayerImplementationStateMachineStateUncontrolledState"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState;function a(a){var b=a.alwaysShowCaptions,c=a.areCaptionsAutogenerated,d=a.isAbrEnabled,e=a.playerImplementationName,f=a.playerVersion;a=a.streamingFormat;var h=!0,i=1,j=g({engineExtrasAPI:null,fullscreenControllerRef:{current:null},videoElementAPI:null,videoLiveTraceRef:{current:null},videoPlayerPassiveViewabilityInfoRef:{current:null}});return{controlledState:{activeCaptions:null,availableQualities:[],bufferingDetected:!1,captionsLoaded:!1,captionsVisible:b,error:null,hostCallPlayIDLast:null,hostCallQueue:[],implementationSeekSourcePosition:null,inbandCaptionsAutogenerated:c,isLiveRewindActive:!1,lastMuteReason:null,lastPauseReason:null,lastPlayReason:null,loopCount:0,loopCurrent:0,muted:h,playbackState:"paused",scrubbing:!1,seekTargetPosition:null,seekableRanges:null,seeking:!1,selectedVideoQuality:"notselected",streamEnded:!1,streamInterrupted:!1,targetAudioQuality:"",targetPlaybackRate:1,targetVideoQuality:"",volume:i,waitingForDomPlaying:!1,waitingForDomTimeUpdateAfterSeeked:!1},isAbrEnabled:d,playerImplementationName:e,playerVersion:f,streamingFormat:a,uncontrolledState:j}}e.exports={createVideoPlayerImplementationStateMachineInitialState:a}}),null);
__d("VideoPlayerImplementationEngineAPI",["requireCond","Banzai","cr:683059","FBLogger","FBLoggerMetadata","React","RunComet","SubscriptionsHandler","VideoPlayerBanzaiLogFlusher","VideoPlayerBanzaiODS","VideoPlayerCaptionsController","VideoPlayerImplementationErrors","VideoPlayerImplementationStateMachine","VideoPlayerImplementationStateMachineHostCallQueue","VideoPlayerImplementationStateMachineLogger","VideoPlayerImplementationStateMachineState","VideoPlayerImplementationStateMachineStateUncontrolledState","clearTimeout","deepEquals","err","gkx","killswitch","recoverableViolation","removeFromArray","setTimeout","unrecoverableViolation","useConcurrentAutoplayManagementAPI","useStable"],(function(a,b,c,d,e,f){"use strict";d=b("React");var g=d.useEffect,h=d.useRef,i=d.useState,j=b("VideoPlayerCaptionsController").createCaptionsController,k=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError,l=b("VideoPlayerImplementationStateMachine").createReactVideoElementCallbacksForStateMachine,m=b("VideoPlayerImplementationStateMachine").createVideoPlayerImplementationStateMachineWithStateTransitionHandlers,n=b("VideoPlayerImplementationStateMachineHostCallQueue").applyOrQueueHostCall,o=b("VideoPlayerImplementationStateMachineHostCallQueue").flushHostCallQueue,p=b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID,q=b("VideoPlayerImplementationStateMachineLogger").createVideoPlayerImplementationStateMachineLogger,r=b("VideoPlayerImplementationStateMachineState").createVideoPlayerImplementationStateMachineInitialState,s=b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState,t=b("useConcurrentAutoplayManagementAPI").createConcurrentAutoplayManagementAPI,u=6e4,v=function(){function a(a){var b=a.pauseRequestCallbacks,c=a.playRequestCallbacks,d=a.scrubBeginRequestCallbacks;a=a.scrubEndRequestCallbacks;this.$1=c;this.$2=b;this.$3=d;this.$4=a}var c=a.prototype;c.playRequest=function(a){var c=this;this.$1.push(a);return function(){b("removeFromArray")(c.$1,a)}};c.pauseRequest=function(a){var c=this;this.$2.push(a);return function(){b("removeFromArray")(c.$2,a)}};c.scrubBeginRequest=function(a){var c=this;this.$3.push(a);return function(){b("removeFromArray")(c.$3,a)}};c.scrubEndRequest=function(a){var c=this;this.$4.push(a);return function(){b("removeFromArray")(c.$4,a)}};return a}();function w(a){var c=a.concurrentAutoplayManagementAPI,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.getCurrentExposedState,g=a.getCurrentIsFullscreen,h=a.getCurrentPlayheadPosition,i=a.loggerAPI,j=a.pauseImpl,k=a.playImpl,l=a.scrubBeginImpl,m=a.scrubEndImpl,n=a.seekImpl,o=a.selectVideoQualityImpl,p=a.setCaptionsVisibleImpl,q=a.setIsLiveRewindActiveImpl,r=a.setMutedImpl,s=a.setVolumeImpl,t=a.subscribers,u=a.videoElementAPIRef,w=new Set(),x=!1,z=null,A=[],B=[],C=[],D=[],E=new v({pauseRequestCallbacks:B,playRequestCallbacks:A,scrubBeginRequestCallbacks:C,scrubEndRequestCallbacks:D}),F={freeze:function(){if(!f().paused)throw b("unrecoverableViolation")("Video player must be paused before the controller freeze","comet_video_player");var a={};try{var c=!1;w.size===0&&(c=!0,z={exposedState:f(),isFullscreen:g(),playheadPosition:h()});w.add(a);c&&(x=!0,t.forEach(function(a){a()}))}finally{x=!1}return a},isFrozen:function(){return z!=null},unfreeze:function(a){if(!w.has(a))throw b("unrecoverableViolation")("Video player controller unfreeze token not found","comet_video_player");w["delete"](a);w.size===0&&(z=null,t.forEach(function(a){a()}))}};return babelHelpers["extends"]({},c,F,i,{debugAPI:d,getCurrentState:function(){return z!=null?z.exposedState:f()},getIsFullscreen:function(){return z!=null?z.isFullscreen:g()},getPlayheadPosition:function(){return z!=null?z.playheadPosition:h()},internal_getVideoElement:function(){if(u!=null){var a=y(u);if(a!=null){a=a.getUnderlyingVideoElement();return a}}return null},observeOn:function(){return E},pause:function(a){if(F.isFrozen())return;B.forEach(function(b){return b(a)});j(a)},play:function(a){if(F.isFrozen())return;A.forEach(function(b){return b(a)});k(a)},requestSetIsFullscreen:function(a){if(F.isFrozen())return;var b=e.current;b&&b.requestSetIsFullscreen(a)},scrubBegin:function(){if(F.isFrozen())return;C.forEach(function(a){return a()});l()},scrubEnd:function(a){if(F.isFrozen())return;D.forEach(function(b){return b(a)});m(a)},seek:function(a){if(F.isFrozen())return;n(a)},selectVideoQuality:function(a){if(F.isFrozen())return;o(a)},setCaptionsVisible:function(a){if(F.isFrozen())return;p(a)},setIsLiveRewindActive:function(a){if(F.isFrozen())return;q(a)},setMuted:function(a,b){if(F.isFrozen())return;r(a,b)},setVolume:function(a){if(F.isFrozen())return;s(a)},subscribe:function(a){var c=function(){if(F.isFrozen()&&!x)return;a()},d=e.current,f=d?d.subscribe(c):null;t.push(c);return{remove:function(){f&&f.remove(),b("removeFromArray")(t,c)}}},videoElementAPIRef:u})}function x(a){var b=a.concurrentAutoplayManagementAPI,c=a.createExposedState,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.logger,g=a.machine,h=a.subscribers;a=a.videoElementAPIRef;var i={setAdditionalLogData:function(a,b){f.setAdditionalLogData(a,b)}};return w({concurrentAutoplayManagementAPI:b,debugAPI:d,fullscreenControllerRef:e,getCurrentExposedState:function(){return c(g.getCurrentState())},getCurrentIsFullscreen:function(){var a=e.current;return a?a.getIsFullscreen():!1},getCurrentPlayheadPosition:function(){var a,b=0;return(a=g.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:b},loggerAPI:i,pauseImpl:function(a){g.dispatch({payload:{reason:a},type:"controller_pause_requested"})},playImpl:function(a){g.dispatch({payload:{reason:a},type:"controller_play_requested"})},scrubBeginImpl:function(){g.dispatch({type:"controller_scrub_begin_requested"})},scrubEndImpl:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_scrub_end_requested"})},seekImpl:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_seek_requested"})},selectVideoQualityImpl:function(a){g.dispatch({payload:{selectedVideoQuality:a},type:"controller_quality_requested"})},setCaptionsVisibleImpl:function(a){g.dispatch({payload:{captionsVisible:a},type:"controller_set_captions_visible_requested"})},setIsLiveRewindActiveImpl:function(a){g.dispatch({payload:{isLiveRewindActive:a},type:"controller_set_is_live_rewind_active_requested"})},setMutedImpl:function(a,b){g.dispatch({payload:{muted:a,reason:b},type:"controller_muted_requested"})},setVolumeImpl:function(a){g.dispatch({payload:{volume:a},type:"controller_volume_requested"})},subscribers:h,videoElementAPIRef:a})}function y(a){a=a.current;if(a==null)throw b("unrecoverableViolation")("Attempted to access VideoElementAPI while it is not available.","comet_video_player");return a}function z(a){var c=a.alwaysShowCaptions,d=a.areCaptionsAutogenerated,e=a.captionsControllerRef,f=a.engineExtrasAPI,g=a.engineMetadata,h=a.fullscreenControllerRef,i=a.handleFatalError,j=a.handleStateMachine,l=a.videoElementAPIRef,q=a.videoLiveTraceRef,t=a.videoPlayerPassiveViewabilityInfoRef;function v(a){n({engineExtrasAPI:f,hostCall:a,machine:x,videoElementAPI:l.current})}var w=null;a=[function(a,c,d){b("cr:683059")&&d.type==="implementation_host_call_applied"&&d.payload.hostCall.type==="host_call_play"&&c.controlledState.lastPlayReason==="autoplay_initiated"?b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayStalling"):b("cr:683059")&&c.controlledState.playbackState!==a.controlledState.playbackState&&c.controlledState.playbackState==="playing"&&c.controlledState.lastPlayReason==="autoplay_initiated"&&b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayPlaying");return!0},function(a,b,c){j(a,b,c);return!0},function(a,c,d){(a.controlledState.bufferingDetected===!1&&c.controlledState.bufferingDetected===!0||a.controlledState.bufferingDetected===!0&&c.controlledState.bufferingDetected===!1)&&(w!==null&&(b("clearTimeout")(w),w=null),c.controlledState.bufferingDetected&&(w=b("setTimeout")(function(){w=null;var a=k("BUFFERING_TIMEOUT",b("err")("The video has been in a buffering state for over "+u+" ms."),"buffering_timeout");x.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"})},u)));return!0},function(a,c,d){if(!(d.type==="implementation_engine_destroy_requested"))return!0;w!==null&&b("clearTimeout")(w);w=null;return!1},function(a,b,c){if(!(c.type==="implementation_engine_initialized"))return!0;a=y(l);c=c.type;o({engineExtrasAPI:f,machine:x,reason:c,state:b,videoElementAPI:a});return!1},function(a,b,c){if(!(c.type==="dom_event_ended"))return!0;a=b.controlledState;(a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1)&&x.dispatch({payload:{reason:"loop_initiated"},type:"controller_play_requested"});return!1},function(a,b,c){if(!(c.type==="controller_pause_requested"))return!0;a=b.controlledState.playbackState;if(!(a==="paused"))return!1;v({payload:{hostCallID:p(),reason:c.type},type:"host_call_pause"});return!1},function(a,b,c){if(!(c.type==="controller_play_requested"))return!0;a=b.controlledState.playbackState;if(!(a==="stalling"))return!1;v({payload:{hostCallID:p(),reason:c.type},type:"host_call_play"});return!1},function(a,b,c){if(!(c.type==="controller_seek_requested"))return!0;a=b.controlledState;b=a.seeking;a=a.seekTargetPosition;b&&a!=null&&v({payload:{currentTime:a,hostCallID:p(),reason:c.type},type:"host_call_set_current_time"});return!1},function(a,b,c){if(!(c.type==="controller_muted_requested"))return!0;a=b.controlledState.muted;if(!(a===c.payload.muted))return!1;v({payload:{hostCallID:p(),muted:a,reason:c.type},type:"host_call_set_muted"});return!1},function(a,b,c){if(!(c.type==="controller_scrub_begin_requested"))return!0;v({payload:{hostCallID:p(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="controller_scrub_end_requested"))return!0;a=b.controlledState;b=a.seeking;var d=a.seekTargetPosition;a=a.targetPlaybackRate;b&&d!=null?(v({payload:{hostCallID:p(),playbackRate:a,reason:c.type+":seek"},type:"host_call_set_playback_rate"}),v({payload:{currentTime:d,hostCallID:p(),reason:c.type+":seek"},type:"host_call_set_current_time"})):v({payload:{hostCallID:p(),playbackRate:a,reason:c.type+":cancel"},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="buffering_begin_requested"))return!0;v({payload:{hostCallID:p(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="buffering_end_requested"))return!0;v({payload:{hostCallID:p(),playbackRate:b.controlledState.targetPlaybackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="controller_volume_requested"))return!0;v({payload:{hostCallID:p(),reason:c.type,volume:b.controlledState.volume},type:"host_call_set_volume"});return!1},function(a,b,c){if(!(c.type==="controller_quality_requested"))return!0;v({payload:{hostCallID:p(),reason:c.type,selectedVideoQuality:b.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"});return!1},function(a,b,c){if(!(c.type==="dom_event_timeupdate"||c.type==="captions_loaded"))return!0;c=e.current;var d=b.controlledState.captionsVisible,f=l.current;f=f?f.getPlayheadPosition():0;if(c&&d&&b.controlledState.captionsLoaded){d=c.handleTimeUpdate(f);b=a.controlledState.activeCaptions;A(b,d)&&x.dispatch({payload:{activeCaptions:d},type:"controller_set_active_captions_requested"})}c=q.current;c!=null&&c.onUpdateStatus({position:f});return!1},function(a,b,c){if(!(c.type==="cea608_bytes_received"))return!0;a=e.current;if(a){b=c.payload;c=b.timescale;b=b.videoBytes;a.handleCea608BytesReceived({timescale:c,videoBytes:b})}return!1},function(a,b,c){if(!(c.type==="controller_set_is_live_rewind_active_requested"))return!0;f.setEnableLiveheadCatchup(!c.payload.isLiveRewindActive);return!1}];var x=m({collectUncontrolledState:function(){var a=l.current;return s({engineExtrasAPI:f,fullscreenControllerRef:h,videoElementAPI:a,videoLiveTraceRef:q,videoPlayerPassiveViewabilityInfoRef:t})},initialState:r({alwaysShowCaptions:c,areCaptionsAutogenerated:d,isAbrEnabled:g.isAbrEnabled,playerImplementationName:g.playerImplementationName,playerVersion:g.playerVersion,streamingFormat:g.streamingFormat}),onFatalError:i,stateTransitionHandlers:a});return x}function A(a,b){if(a===null&&b===null)return!1;if(a===null||b===null)return!0;var c=(b=b.rows)!=null?b:[];a=(b=a.rows)!=null?b:[];return a.length!==c.length||a.some(function(a,b){return a!==c[b]})}function B(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_fullscreen_changed"})}))}function C(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_viewability_changed"})}))}function D(a){var b=a.engineMetadata;a=a.state;var c=a.controlledState,d=c.activeCaptions,e=c.availableQualities,f=c.captionsLoaded,g=c.captionsVisible,h=c.error,i=c.inbandCaptionsAutogenerated,j=c.isLiveRewindActive,k=c.lastMuteReason,l=c.lastPauseReason,m=c.lastPlayReason,n=c.loopCount,o=c.loopCurrent,p=c.muted,q=c.playbackState,r=c.seekableRanges,s=c.seeking,t=c.seekTargetPosition,u=c.selectedVideoQuality,v=c.streamInterrupted,w=c.targetAudioQuality,x=c.targetVideoQuality;c=c.volume;var y=a.uncontrolledState,z=y.currentPlayingVideoQuality,A=y.videoElementDuration;y=y.videoElementLastBufferEndPosition;var B=q==="ended",C=q==="paused"||B,D=q==="playing",E=q==="inPlayStalling";q=q==="stalling"||E;d={activeCaptions:d,availableVideoQualities:e,bufferEnd:(d=y)!=null?d:0,captionsLoaded:f,captionsVisible:g,currentVideoQuality:(e=z)!=null?e:"",duration:(y=A)!=null?y:0,ended:B,error:h,inPlayStalling:E,inbandCaptionsAutogenerated:i,isAbrEnabled:b.isAbrEnabled,isLiveRewindActive:j,lastMuteReason:k,lastPauseReason:l,lastPlayReason:m,loopCount:n,loopCurrent:o,muted:p,paused:C,playerImplementationName:a.playerImplementationName,playerVersion:a.playerVersion,playing:D,seekTargetPosition:t,seekableRanges:r,seeking:s,selectedVideoQuality:u,stalling:q,streamInterrupted:v,targetAudioQuality:w,targetVideoQuality:x,volume:c};return d}function a(a){var c,d=a.createDebugAPI,e=a.createVideoPlayerError,f=a.debugLog,g=a.destroyEngineParts,h=a.engineExtrasAPI,i=a.engineMetadata,k=a.handleFatalError,m=a.handleVideoElementMounted,n=a.handleVideoElementUnmounted,o=a.handleVideoInfoChange;f=a.initialProps;var p=a.setExposedStateInReact,r=q({initialLoggingMetaData:f.loggingMetaData}),s=new(b("VideoPlayerBanzaiLogFlusher"))(r),u={current:(a=f.videoPlayerPassiveViewabilityInfo)!=null?a:null},v={current:(a=f.fullscreenController)!=null?a:null},w={current:null},y={current:(a=f.videoLiveTrace)!=null?a:null};a=t();var A=[],E=function(){A.forEach(function(a){a()}),s.flushLogs()},F={current:null},G={current:{inbandCaptionsAutogeneratedFromManifest:!1,inbandCaptionsExpectedFromManifest:!1,inbandCaptionsExpectedFromProps:f.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:f.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(c=f.captionsUrl)!=null?c:null}},H={current:null},I={current:null},J=new(b("SubscriptionsHandler"))(),K="before_mounted";function L(){return K==="mounted"}var M={current:null},N=function(a){a=D({engineMetadata:i,state:a});return a},O={current:null},P={current:null},Q=function(a){if(L()){if(a===O.current)return;var c=N(a);if(P.current!=null&&b("deepEquals")(P.current,c))return;O.current=a;P.current=c;p(c)}};c=function(a,b,c){r.handleStateMachine(a,b,c),Q(b),E()};var R=function(a,b){},S=function(a){R(a,"state_machine_fatal_error")},T=z({alwaysShowCaptions:Boolean(f.alwaysShowCaptions),areCaptionsAutogenerated:Boolean(f.areCaptionsAutogenerated),captionsControllerRef:w,engineExtrasAPI:h,engineMetadata:i,fullscreenControllerRef:v,handleFatalError:S,handleStateMachine:c,videoElementAPIRef:M,videoLiveTraceRef:y,videoPlayerPassiveViewabilityInfoRef:u}),U=!1,V=function(a){var c=F.current!=null,d=M.current!=null;J.release();T.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:c},type:"implementation_engine_destroy_requested"});try{b("gkx")("1494163")?g(["destroyEngine("+a+")"]):U||(U=!0,g(["destroyEngine("+a+")"]))}catch(e){if(b("gkx")("1494163"))try{b("FBLogger")("comet_video_player").catching(e).warn("Error thrown by destroyEngineParts: %s %s",e.message,JSON.stringify({playerImplementationName:i.playerImplementationName,reason:a,videoElementAPIExisted:d,videoElementExisted:c}))}catch(a){}}var e=w.current;e!=null&&(T.getCurrentState().controlledState.captionsLoaded&&T.dispatch({type:"captions_unloaded"}),w.current=null,e.destroy());e=y.current;e!=null&&(y.current=null);B(null,v,H,T);C(null,u,I,T);T.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:c},type:"implementation_engine_destroyed"})};R=function(a,b){a=e(a,b);T.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"});V("implementation_fatal_error");k(a)};function W(a){return a.sideLoadCaptionsExpectedFromProps&&a.sideLoadCaptionsUrlFromProps!==null}function X(a){return a.inbandCaptionsExpectedFromProps&&((a=a.inbandCaptionsExpectedFromManifest)!=null?a:!1)}function Y(a){return(a=a.inbandCaptionsAutogeneratedFromManifest)!=null?a:!1}var Z=function(a){var b=W(a),c=X(a),d=Y(a),e=w.current;d!==Y(G.current)&&T.dispatch({payload:{inbandCaptionsAutogenerated:d},type:"inband_captions_autogenerated_changed"});e!=null?c!==X(G.current)&&(e.updateInbandCaptionsExpected(c),!c&&T.getCurrentState().controlledState.captionsLoaded&&T.dispatch({type:"captions_unloaded"})):(b||c)&&e==null&&(w.current=j({captionsUrl:b?a.sideLoadCaptionsUrlFromProps:null,inbandCaptionsExpected:c,onCaptionsLoaded:function(){T.getCurrentState().controlledState.captionsLoaded||T.dispatch({type:"captions_loaded"})}}));G.current=a},aa=function(a){h!=null&&a&&a.width>0&&a.height>0&&h.setDimensions(a)},ba=function(a){a!==T.getCurrentState().controlledState.loopCount&&T.dispatch({payload:{loopCount:a},type:"loop_count_change_requested"})},ca=function(a){"srcObject"in a&&(a.srcObject=null)},$=function(a,c){if(F.current===a)return;if(!L()&&b("gkx")("1405244"))return;if(!L()){var d=function(a){switch(a){case"unmounted":return"EngineAPI.handleVideoElement.unmounted";case"before_mounted":return"EngineAPI.handleVideoElement.before_mounted";case"mounted":return null;default:a;return null}}(K);d&&b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player",d,1)}a!=null&&F.current!=null&&F.current!==a&&b("recoverableViolation")("The video element was recreated","comet_video_player");d=F.current;d&&ca(d);F.current=a;b("gkx")("1494163")&&(a==null&&(M.current=null));F.current!=null?(T.dispatch({type:"implementation_video_node_mounted"}),m([].concat(c,["handleVideoElement(non-null)"]))):(T.dispatch({type:"implementation_video_node_unmounted"}),n([].concat(c,["handleVideoElement(null)"])))};f=function(a){var b;if(!L())return;B((b=a.fullscreenController)!=null?b:null,v,H,T);C((b=a.videoPlayerPassiveViewabilityInfo)!=null?b:null,u,I,T);if(!o(a)){b={inbandCaptionsAutogeneratedFromManifest:G.current.inbandCaptionsAutogeneratedFromManifest,inbandCaptionsExpectedFromManifest:G.current.inbandCaptionsExpectedFromManifest,inbandCaptionsExpectedFromProps:a.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:a.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=a.captionsUrl)!=null?b:null};Z(b);aa(a.loggingMetaData.dimensions);ba((b=a.loopCount)!=null?b:0)}T.dispatch({payload:{loggingMetaData:a.loggingMetaData},type:"notify_logging_metadata_change"})};S=function(){if(K!=="before_mounted"){var a=function(a){switch(a){case"before_mounted":return null;case"unmounted":return"EngineAPI.handleReactMount.unmounted";case"mounted":return"EngineAPI.handleReactMount.mounted";default:a;return null}}(K);a&&b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player",a,1)}L()||(K="mounted",J.addSubscriptions(b("RunComet").onUnload(function(){V("page_unload")})),J.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){V("banzai_shutdown")})),T.dispatch({type:"implementation_mounted"}),m(["handleReactMount"]))};c=function(){if(!L()){var a=function(a){switch(a){case"unmounted":return"EngineAPI.handleReactUnmount.unmounted";case"before_mounted":return"EngineAPI.handleReactUnmount.before_mounted";case"mounted":return null;default:a;return null}}(K);a&&b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player",a,1)}L()&&(K="unmounted",T.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),V("implementation_unmounted:react_effect_cleanup"))};a=x({concurrentAutoplayManagementAPI:a,createExposedState:N,debugAPI:d({getVideoElementAPI:function(){return M.current},logger:r}),fullscreenControllerRef:v,logger:r,machine:T,subscribers:A,videoElementAPIRef:M});d=l(T,$);var da=N(T.getInitialState());S={destroy:V,handleReactMount:S,handleReactPropsChanged:f,handleReactUnmount:c,implementationController:a,initialExposedState:da,logFlusher:s,logger:r,machine:T,notifySubscribers:E,videoElementCallbacks:d,videoElementRefCallback:function(a){$(a,["videoElementRefCallback"])}};return{engine:S,getCaptionsInfo:function(){return G.current},getVideoElement:function(){return F.current},getVideoLiveTrace:function(){return y.current},handleCaptionsInfoChange:Z,handleFatalImplementationError:R,machine:T,videoElementAPIRef:M}}function E(a){var c=new Error(a.errorDescription);c.errorName=a.errorName;c.type="error";a.stack!=null&&a.stack!==""&&(c.stack=a.stack);var d=new(b("FBLoggerMetadata"))();d.addMetadata("COMET_VIDEO","ERROR_LOCATION",a.errorLocation);a.errorCode!=null&&d.addMetadata("COMET_VIDEO","ERROR_CODE",a.errorCode);a.url!=null&&d.addMetadata("COMET_VIDEO","ERROR_URL",a.url);a=a.originalError;a!=null&&(typeof a==="string"?d.addMetadata("COMET_VIDEO","ORIGINAL_ERROR",a):a instanceof Error&&a.message!=null&&d.addMetadata("COMET_VIDEO","ORIGINAL_ERROR",a.message));c.fbloggerMetadata=d.formatMetadata();return c}function c(a,c){var d=i(null),e=d[0],f=d[1],j=h(null);d=i(null);var k=d[0],l=d[1],m=function(a){j.current||(j.current=a,l(a))};g(function(){k||(j.current=null)},[k]);var n=h(a),o=h(c),p=b("useStable")(function(){return o.current({handleFatalError:b("gkx")("1444664")?m:l,initialProps:n.current,setExposedStateInReact:f})});c=(d=e)!=null?d:p.initialExposedState;d=(e=c.error)!=null?e:k;if(d!=null){if(b("killswitch")("COMET_VIDEO_ERROR_DEAGGREGATION"))throw b("unrecoverableViolation")(d.errorName+": "+d.errorDescription,"comet_video_player",{error:d.originalError instanceof Error?d.originalError:void 0});throw E(d)}g(function(){p.handleReactMount();return function(){p.handleReactUnmount()}},[p]);var q=h(null);g(function(){a!==q.current&&p.handleReactPropsChanged(a),q.current=a});return[c,p]}e.exports={createVideoPlayerImplementationEngine:a,internal_createVideoPlayerImplementationEngineStateMachineWithEffects:z,internal_createVideoPlayerImplementationExposedStateFromStateMachineState:D,internal_createVideoPlayerImplementationControllerImpl:w,useVideoPlayerImplementationEngine:c}}),null);
__d("VideoPlayerImplementationEngineVideoElementAPI",["Promise","VideoPlaybackQuality"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlaybackQuality").getDroppedFrames,h=b("VideoPlaybackQuality").getTotalFrames;function i(a){return isNaN(a)?0:a}function j(a){return i(a.duration)}function k(a){a=a.buffered;return a.length>0?a.end(a.length-1):0}function l(a){return i(a.currentTime)}function a(a){return{getDroppedFrameCount:function(){return g(a)},getDuration:function(){return j(a)},getEnded:function(){return a.ended},getError:function(){return a.error},getLastBufferEndPosition:function(){return k(a)},getMuted:function(){return a.muted},getNetworkState:function(){return a.networkState},getPaused:function(){return a.paused},getPlaybackRate:function(){return a.playbackRate},getPlayheadPosition:function(){return l(a)},getReadyState:function(){return a.readyState},getTotalFrameCount:function(){return h(a)},getUnderlyingVideoElement:function(){return a},getVolume:function(){return a.volume},pause:function(){a.pause()},play:function(){var c=a.play();c=c&&typeof c.then==="function"?b("Promise").resolve(c):null;return c},setDuration:function(b){a.duration=b},setMuted:function(b){a.muted=b},setPlaybackRate:function(b){a.playbackRate=b},setPlayheadPosition:function(b){a.currentTime=b},setSrc:function(b){b==null||b===""?a.removeAttribute("src"):a.setAttribute("src",b)},setVolume:function(b){a.volume=b}}}e.exports={createVideoPlayerImplementationEngineVideoElementAPI:a,getDurationFromVideoElement:j,getLastBufferEndPositionFromVideoElement:k,getPlayheadPositionFromVideoElement:l}}),null);
__d("VideoPlayerImplementationReactVideoElement.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var b=a.implementationController,c=a.implementationExposedState,d=a.renderWithVideoImplementationStates,e=a.src,f=a.videoElementCallbacks;a=a.videoElementRefCallback;f=g.jsxs(g.Fragment,{children:[g.jsx("video",babelHelpers["extends"]({className:"k4urcfbm datstx6m a8c37x1j",controls:!1,muted:!0},f,{ref:a,src:e})),d({implementationController:b,videoState:c})]});return f}e.exports=a}),null);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","OzCustomParsers","OzCustomRepresentationParsers","OzDashPrefetchCache","OzVideoLiveTraceNetworkRequestStreamHandler","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerOzImplementationEnginePartsImplUtils","getOzPlaybackRestrictions","gkx","oz-player/networks/OzBandwidthEstimator","oz-player/parsers/OzPredictedSegmentTimelineParser"],(function(a,b,c,d,e,f){"use strict";var g=b("OzCustomParsers").createOzCustomParser,h=b("OzCustomRepresentationParsers").createOzCustomRepresentationParsers,i=(c=b("VideoPlayerOzImplementationEnginePartsImplUtils")).calculateInitialPlaybackPositionForDynamicMpd,j=c.calculateLiveheadFallBehindBlockMargin,k=c.calculateLiveheadFallBehindBlockThreshold,l=c.checkShouldIncludeCredentials,m=c.createOzBufferingDetector,n=c.createOzDrmModules,o=c.createOzPerfLoggerProviders;function a(a){var c=a.OzPlayerClass,d=a.callChain,e=a.destroyOzPlayerPartsRef,f=a.engineDebugAPI,p=a.engineExtrasAPI,q=a.getCaptionsInfo,r=a.getOzQuickStarter,s=a.getVideoLiveTrace,t=a.handleCaptionsInfoChange,u=a.handleFatalImplementationError,v=a.initialProps,w=a.machine,x=a.ozBufferingDetectorRef,y=a.ozPlayerRef,z=a.playerVersion,A=a.resolvedVideoInfo,B=a.videoElement;a=a.videoElementAPI;var C={current:null};e.current=function(a){var c=x.current;c&&(x.current=null,c.destroy());c=y.current;c&&(f&&f.handleOzPlayerChanged(null),y.current=null,c.destroy(b("gkx")("1435909")?[].concat(a,["destroyOzPlayerParts"]).join(":"):null));c=C.current;c&&(C.current=null,c())};e=A.VideoPlayerShakaPerformanceLoggerClass;var D=A.experimentationConfig,E=A.graphQLVideoDRMInfo,F=A.manifestUrl,G=A.manifestXmlStringResolved,H=A.minQualityPreference;A=A.videoFBID;r=r();var I=Boolean(v.loggingMetaData.coreVideoPlayerMetaData.isLiveStreaming),J=function(a){return p.getEstimatedBandwidth()},K=function(){D.setContext("connection_quality",b("VideoPlayerConnectionQuality").evaluate(function(){return J(I)}))},L=function(){var a=D.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var c=b("CometThrottle")(K,a),d=b("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",c);return function(){d.remove(),c.cancel()}};C.current=L();L=v.loggingMetaData.dimensions;E=n({graphQLVideoDRMInfo:E,videoFBID:A});var M=E.drmManagerModule;E=E.drmProviders;z=o({VideoPlayerShakaPerformanceLoggerClass:e,getBandwidthEstimate:J,playbackIsLiveStreaming:I,playerInstanceCount:v.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:v.loggingMetaData.instanceKey,playerSuborigin:v.loggingMetaData.coreVideoPlayerMetaData.subOrigin,playerVersion:z,videoElement:B,videoFBID:A});d={config:D,customParsers:g(),customRepresentationParsers:h({ozConfig:D}),customSegmentTimelineParser:D.getBool("enable_predictive_dash",!1)?new(b("oz-player/parsers/OzPredictedSegmentTimelineParser"))():void 0,debugCreateInitiator:b("gkx")("1435909")?[].concat(d,["proceedWithOzPlayerCreation"]).join(":"):null,dimensions:{height:L.height,width:L.width},drmManagerModule:M,drmProviders:E,getShouldIncludeCredentials:D.getBool("use_oz_credentials_provider",!1)?l:null,initialPlaybackPositionForDynamicMpd:i(D,(A=v.initialDesiredLatencyMs)!=null?A:0),initialRepresentationIDs:(d=v.initialRepresentationIds)!=null?d:[],liveheadFallBehindBlockMargin:j(D,(L=v.initialDesiredLatencyMs)!=null?L:0),liveheadFallBehindBlockThreshold:k(D,(M=v.initialDesiredLatencyMs)!=null?M:0,(E=v.initialLatencyToleranceMs)!=null?E:0),loggerConfig:{isOzDevConsoleEnabled:b("gkx")("722076"),observedOperationLoggers:r&&e&&e.shouldInitialize()?r.getObservedOperationLoggers():[],perfLoggerProviders:z},mpdUrl:F,networkRequestStreamHandlers:[new(b("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b){var c=s();c!=null&&c.handleHeaders(a,b)})],prefetchCache:D.getBool("use_prefetch_cache",!1)?new(b("OzDashPrefetchCache"))():null,rawMpdXml:G,seekHandler:b("gkx")("1482680")?function(a){var b=B.currentTime;w.dispatch({payload:{seekSourcePosition:b},type:"implementation_seek_requested"});B.currentTime=a}:null,startTimeStamp:D.getBool("fix_start_timestamp",!1)?v.startTimestamp:0,videoNodeOrQuickStarter:(A=r)!=null?A:B,videoPlaybackRestrictions:b("getOzPlaybackRestrictions")(H,{keepLowestMosAboveUpperThresold:D.getBool("keep_lowest_mos_above_upper_thresold",!1),mosLowerThreshold:D.getNumber("mos_lower_threshold",0),mosUpperThreshold:D.getNumber("mos_upper_threshold",0)})};var N=new c(d);y.current=N;L=v.loggingMetaData.playerImplementationInstanceCountRef;L.current++;N.onError(function(a){u(a,"oz_player_error")});N.setupPlayer();N.addListener("switchVideoRepresentation",function(){w.dispatch({payload:{targetVideoQuality:p.getCurrentTargetVideoQuality()},type:"representation_changed"})});N.addListener("streamInterruptAt",function(){w.dispatch({type:"stream_interrupted"})});N.addListener("streamResumedAt",function(){w.dispatch({type:"stream_resumed"})});N.addListener("streamEnd",function(){w.dispatch({type:"stream_ended"})});f&&f.handleOzPlayerChanged(N);m(B,a,D,w,x);if(D.getBool("emit_cea_608_availability",!1)){var O=function(){var a=q();a={inbandCaptionsAutogeneratedFromManifest:p.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:p.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=w.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&t(a)};M=function(a,b){a=a.getCustomField("timescale")||0;w.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})};var P=function(){var a=p.getVideoRepresentations();if(a!=null&&a.length>0){a=a[0].getTimeRanges();if(a!=null&&a.length>0){var c=a[0].startTime;a=Math.max(a[a.length-1].endTime-D.getNumber("live_rewind_seek_to_live_delta",8),c);w.dispatch({payload:{seekableRanges:new(b("TimeRanges"))([{endTime:a,startTime:c}])},type:"seekable_ranges_changed"})}}},Q=function(){var a=N.getMpd().getCustomField("loapStreamType"),b=s();typeof a==="number"&&b!=null&&b.setStreamType(a)};N.getMpd().addListener("updated",function(){P(),O(),Q()});D.getBool("parse_cea_608",!1)&&N.updatePlayerRunTimeConfig({videoStreamDataHandler:M})}p.isPredictiveDash()&&D.setContext("latency_level","predictive");E=q();t({inbandCaptionsAutogeneratedFromManifest:p.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:p.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:E==null?void 0:E.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:E==null?void 0:E.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:E==null?void 0:E.sideLoadCaptionsUrlFromProps})}e.exports={proceedWithOzPlayerCreation:a}}),null);
__d("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferredForDisplay")("oz-player");function a(){return{getModuleIfRequireable:function(){return g.getModuleIfRequireable()||null},load:function(){return g.load()}}}e.exports=a}),null);
__d("VideoPlayerProgressiveImplementationData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.hdSrc,c=a.hdSrcPreferred;a=a.sdSrc;return a==null?null:{hdSrc:b,hdSrcPreferred:c,sdSrc:a}}e.exports={makeProgressiveImplementationData:a}}),null);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.getPlayingVideoInfo;a=a.setUserSelectedVideoQuality;a={getAudioRepresentationIDAtTime:function(a){return null},getAvailableVideoQualities:function(){var a;return(a=(a=b())==null?void 0:a.availableQualities)!=null?a:[]},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentTargetVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){return"progressive"},getUserSelectedVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.selectedQuality)!=null?a:"notselected"},getVideoRepresentationIDAtTime:function(a){return"oep_hd"},getVideoRepresentations:function(){return null},isDrm:function(){return!1},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},isPredictiveDash:function(){return!1},setDimensions:function(a){},setEnableLiveheadCatchup:function(){},setUserSelectedVideoQuality:a};return a}e.exports={createVideoPlayerProgressiveImplementationEngineExtrasAPI:a}}),null);
__d("VideoPlayerProgressiveImplementationEngineUtils",["gkx"],(function(a,b,c,d,e,f){"use strict";var g="hd",h="sd";function a(a){var c=[];a.sdSrc!=null&&c.push(h);a.hdSrc!=null&&c.push(g);var d=a.hdSrcPreferred&&a.hdSrc!=null&&b("gkx")("1483656")?g:h;return babelHelpers["extends"]({},a,{availableQualities:c,playingQuality:null,playingSrc:null,selectedQuality:d,targetQuality:d,targetSrc:null})}function c(a,b){var c=a.hdSrc,d=a.sdSrc,e,f;b==="notselected"||b==="auto"?(e=d!=null?h:c!=null?g:h,f=d!=null?d:c!=null?c:null):b===g&&c!=null?(e=g,f=c):b===h&&d!=null?(e=h,f=d):(e=h,f=null);f===""&&(f=null);return babelHelpers["extends"]({},a,{selectedQuality:b,targetQuality:e,targetSrc:f})}function d(a,b,c){return babelHelpers["extends"]({},a,{playingQuality:b,playingSrc:c})}e.exports={createResolvedVideoInfoProgressive:a,updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality:d,updatePlayingVideoInfoProgressiveWithUserSelectedQuality:c}}),null);
__d("VideoPlayerProgressiveImplementationEngine",["requireCond","FBLogger","VideoPlayerBanzaiODS","VideoPlayerFairplayLicenseHandler","VideoPlayerImplementationEngineAPI","cr:1473550","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerProgressiveImplementationEngineExtrasAPI","VideoPlayerProgressiveImplementationEngineUtils","cr:1512856","emptyFunction","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine,h=b("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI,i=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError,j=b("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI,k=b("VideoPlayerProgressiveImplementationEngineUtils").createResolvedVideoInfoProgressive,l=b("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality,m=b("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithUserSelectedQuality,n=b("emptyFunction");function o(a,b){return i("PROGRESSIVE_JAVASCRIPT_NATIVE",a,b)}function a(a){var c=a.handleFatalError,d=a.initialProps;a=a.setExposedStateInReact;var e={current:null},f={current:null},i={current:null},p={current:null},q=function(){var a=p.current;a!=null&&(p.current=null,a())},r=function(a){q();var c=z();if(c==null)throw b("unrecoverableViolation")("Need videoElement in startSwitchingSource","comet_video_player");if(b("cr:1512856")==null)throw b("unrecoverableViolation")("Need SourceSwitcher in startSwitchingSource","comet_video_player");p.current=b("cr:1512856").startSwitchingVideoElementSource({getShouldBePlaying:function(){return C.getCurrentState().controlledState.playbackState==="playing"||C.getCurrentState().controlledState.playbackState==="stalling"},onSourceSwitchCancelled:function(){C.dispatch({type:"buffering_end_requested"})},onSourceSwitchFailed:function(a){b("FBLogger")("comet_video_player").catching(a).warn("Progressive source switch failed: %s",String(a)),C.dispatch({type:"buffering_end_requested"})},onSourceSwitchStarted:function(){C.dispatch({type:"buffering_begin_requested"})},onSourceSwitchSucceeded:function(){var a=i.current;a!=null&&a.targetQuality!=null&&(i.current=l(a,a.targetQuality,a.targetSrc));C.dispatch({type:"buffering_end_requested"})},targetSrc:a,videoElement:c})},s={current:null},t=function(){var a=z(),c=f.current;if(a==null||c==null)return;try{var e,g=c.graphQLVideoDRMInfo,j=c.videoFBID;e=g?(e=g.fairplayCert)!=null?e:null:null;s.current=g&&e!=null&&j!=null?new(b("VideoPlayerFairplayLicenseHandler"))(e,a,j,g.videoLicenseUriMap):null;e=h(a);D.current=e;i.current=c;j=y();A({inbandCaptionsAutogeneratedFromManifest:w.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:w.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:j==null?void 0:j.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:j==null?void 0:j.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:j==null?void 0:j.sideLoadCaptionsUrlFromProps});C.dispatch({payload:{availableQualities:w.getAvailableVideoQualities(),selectedVideoQuality:w.getUserSelectedVideoQuality(),targetVideoQuality:w.getCurrentTargetVideoQuality()},type:"implementation_engine_initialized"});e.setPlayheadPosition(d.startTimestamp)}catch(a){B(a,"progressive_player_create_exception")}},u=function(a,c){if(c==null)return!0;else if(a.videoFBID!==c.videoFBID){var d=14;b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.video_fbid_changed",d);return!1}else if(a.hdSrc!==c.hdSrc||a.sdSrc!==c.sdSrc){d=14;b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.src_changed",d);return!1}else return!1},v=function(a){var c;c={graphQLVideoDRMInfo:(c=a.graphQLVideoDRMInfo)!=null?c:null,hdSrc:a.hdSrc===""?null:(c=a.hdSrc)!=null?c:null,hdSrcPreferred:a.hdSrcPreferred,sdSrc:a.sdSrc===""?null:(c=a.sdSrc)!=null?c:null,videoFBID:a.videoFBID};if(!u(c,e.current))return!1;if(c.hdSrc==null&&c.sdSrc==null)throw b("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");e.current=c;f.current=k(c);t();return!0},w=j({getPlayingVideoInfo:function(){return i.current},setUserSelectedVideoQuality:function(a){var c=i.current;if(!c)throw b("unrecoverableViolation")("Attempt to switch quality when playingVideoInfo does not exist","comet_video_player");var d=D.current;if(!d)throw b("unrecoverableViolation")("Attempt to switch quality when videoElementAPI does not exist","comet_video_player");var e=c.targetQuality,f=c.targetSrc;i.current=m(c,a);c=i.current;a=c.targetQuality;c=c.targetSrc;if(b("gkx")("1467411"))c!==f&&(c==null?(q(),d.setSrc(null)):r(c)),e!=null&&a!==e&&a!=null&&C.dispatch({payload:{targetVideoQuality:a},type:"representation_changed"});else{d.setSrc(c);if(c!=null){e=(f=C.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?f:0;e>0&&d.setPlayheadPosition(e);C.getCurrentState().controlledState.playbackState==="playing"&&d.play();C.dispatch({payload:{targetVideoQuality:w.getCurrentTargetVideoQuality()},type:"representation_changed"})}}}}),x=function(){s.current&&(s.current.destroy(),s.current=null)};c=g({createDebugAPI:function(a){var c=a.getVideoElementAPI;a=a.logger;return b("cr:1473550")?b("cr:1473550").createVideoPlayerImplementationDebugAPI({engineExtrasAPI:w,getVideoElementAPI:c,logger:a}):null},createVideoPlayerError:o,debugLog:n,destroyEngineParts:function(){if(b("gkx")("1467411")){q();var a=D.current;a&&a.setSrc(null);i.current=null}x()},engineExtrasAPI:w,engineMetadata:{isAbrEnabled:!1,playerImplementationName:"progressive_v2",playerVersion:"comet_progressive",streamingFormat:"progressive"},handleFatalError:c,handleVideoElementMounted:t,handleVideoElementUnmounted:function(){b("gkx")("1467411")&&q()},handleVideoInfoChange:v,initialProps:d,setExposedStateInReact:a});v=c.engine;var y=c.getCaptionsInfo,z=c.getVideoElement,A=c.handleCaptionsInfoChange,B=c.handleFatalImplementationError,C=c.machine,D=c.videoElementAPIRef;return v}e.exports={createVideoPlayerProgressiveImplementationEngine:a}}),null);
__d("VideoPlayerProgressiveImplementationV2.react",["React","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationReactVideoElement.react","VideoPlayerProgressiveImplementationEngine"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine,i=b("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine;function a(a){var c=h(a,i),d=c[0];c=c[1];return g.jsx(b("VideoPlayerImplementationReactVideoElement.react"),{implementationController:c.implementationController,implementationExposedState:d,renderWithVideoImplementationStates:a.renderWithVideoImplementationStates,videoElementCallbacks:c.videoElementCallbacks,videoElementRefCallback:c.videoElementRefCallback})}e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelay",["CometRelay","useVideoPlayerShakaPerformanceLoggerRelay_init.graphql","useVideoPlayerShakaPerformanceLoggerRelay_video.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("CometRelay").ModuleResource;b("CometRelay").graphql;var j=b("CometRelay").useFragment;g!==void 0?g:g=b("useVideoPlayerShakaPerformanceLoggerRelay_init.graphql");function a(a){a=j(h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerRelay_video.graphql"),a);a=a.video_player_shaka_performance_logger_init?i.read(a.video_player_shaka_performance_logger_init):null;return a}e.exports=a}),null);
__d("CometWatchAndScrollHooks",["CometWatchAndScrollSetUnmutedPlayingVideoContext","CometWatchAndScrollUnmutedPlayingVideoContext","CometWatchAndScrollVideoContext","React","VideoPlayerHooks","emptyFunction","gkx"],(function(a,b,c,d,e,f){"use strict";d=b("React");var g=d.useContext,h=d.useEffect,i=b("VideoPlayerHooks").useController,j=b("VideoPlayerHooks").useMuted,k=b("VideoPlayerHooks").usePlaying;function a(){var a=i(),c=j(),d=g(b("CometWatchAndScrollVideoContext")),e=k(),f=g(b("CometWatchAndScrollSetUnmutedPlayingVideoContext"));h(function(){if(!c&&d!=null&&e&&a!==(d==null?void 0:d.controller)){var b=d.controller.getCurrentState();!b.muted&&b.playing&&d.controller.setMuted(!0,"product_initiated")}!c&&e&&f!=null&&f({controller:a})},[a,d,c,f,e])}function c(){var a=i(),c=j(),d=k(),e=g(b("CometWatchAndScrollUnmutedPlayingVideoContext"));h(function(){if(!c&&e!=null&&d&&a!==(e==null?void 0:e.controller)){var b=e.controller.getCurrentState();!b.muted&&b.playing&&e.controller.setMuted(!0,"user_initiated")}},[c,e,a,d])}e.exports={useMuteUnmutedVideo:b("gkx")("1590815")?b("emptyFunction"):c,useMuteUnmutedWatchAndScrollVideo:b("gkx")("1590815")?b("emptyFunction"):a}}),null);
__d("DataViewReader",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=0,this.$2=a}var b=a.prototype;b.seek=function(a){this.$1=a};b.skip=function(a){var b=this.$1;this.$1+=a;return b};b.readUint8=function(){return this.$2.getUint8(this.skip(8/8))};b.readUint16=function(){return this.$2.getUint16(this.skip(16/8))};b.readUint32=function(){return this.$2.getUint32(this.skip(32/8))};b.readUint64=function(){var a=this.$2.getUint32(this.skip(32/8)),b=this.$2.getUint32(this.skip(32/8));if(a>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*a+b};b.readInt64=function(){var a=this.$2.getUint32(this.skip(32/8)),b=this.$2.getUint32(this.skip(32/8));if(a>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*(a|0)+b};b.readInt16=function(){return this.$2.getInt16(this.skip(16/8))};b.readInt32=function(){return this.$2.getInt32(this.skip(32/8))};b.readZeroTerminatedString=function(a){var b="",c=0,d;while(c++<a&&(d=this.readUint8()))b+=String.fromCharCode(d);return b};b.readChars=function(a){var b="";while(a-->0)b+=String.fromCharCode(this.$2.getUint8(this.skip(8/8)));return b};b.readBytes=function(a){var b=[];while(a-->0)b.push(this.$2.getUint8(this.skip(8/8)));return b};b.getDataView=function(){return this.$2};b.getCursor=function(){return this.$1};b.hasMoreData=function(){return this.$2.byteLength-this.getCursor()>0};return a}();e.exports=a}),null);
__d("oz-player/loggings/OzPreInitLogger",["oz-player/shims/OzEventEmitter","oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";var g=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.$OzPreInitOperationLogger1=c;return a}var c=a.prototype;c.log=function(){b.prototype.log.call(this),this.$OzPreInitOperationLogger1(this)};return a}(b("oz-player/loggings/OzOperationLoggerBase"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$OzPreInitLoggerProvider1=!1,d.$OzPreInitLoggerProvider2=[],d.$OzPreInitLoggerProvider3=new(b("oz-player/shims/OzEventEmitter"))(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.deactivate=function(){this.$OzPreInitLoggerProvider1=!1};d.activate=function(){var a=this;this.$OzPreInitLoggerProvider1=!0;this.$OzPreInitLoggerProvider2.forEach(function(b){a.$OzPreInitLoggerProvider3.emit("operation_logged",b)});this.$OzPreInitLoggerProvider2=[]};d.setOperationLoggedListener=function(a){return this.$OzPreInitLoggerProvider3.addListener("operation_logged",function(b){a(b)})};d.createOperationLogger=function(a){var b=this;a=new g(a,function(a){b.$OzPreInitLoggerProvider1?b.$OzPreInitLoggerProvider3.emit("operation_logged",a):b.$OzPreInitLoggerProvider2.push(a)});return a};d.createLoggerProvider=function(){return new c()};return c}(b("oz-player/loggings/OzPerfLoggerProviderBase"));e.exports={OzPreInitLoggerProvider:a}}),null);
__d("oz-player/utils/convertRequestPromiseToReadableStream",["oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=new(b("oz-player/shims/OzReadableStream"))({start:function(b){a.then(function(a){a=new Uint8Array(a.response);b.enqueue(a);b.close()})["catch"](function(a){b.error(a)})}});return c}e.exports=a}),null);
__d("oz-player/media_source/OzQuickStarter",["oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzPreInitLogger","oz-player/shims/ozvariant","oz-player/utils/convertRequestPromiseToReadableStream","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/media_source/MediaSourceManager"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/loggings/OzPreInitLogger").OzPreInitLoggerProvider,i=.1;a=function(){function a(a,c,d){var e=this;d===void 0&&(d=[]);this.$5=new Map();this.$6=[];this.$8=new Map();this.$9=new Map();this.$10=new(b("oz-player/utils/OzErrorEmitter"))(!0);this.$11=[];this.$14=function(a){a instanceof b("oz-player/utils/OzError")||(a=new(b("oz-player/utils/OzError"))({type:"OZ_QUICKSTARTER",description:a.message,extra:{originalError:a}})),e.$10.emitError(a)};this.$3=a;this.$1=c;this.$7=new h();this.$7.setInitiator("quick_starter");this.$6.push(this.$7);this.$2=new(b("oz-player/media_source/MediaSourceManager"))(this.$3,c,this.$7);this.$4=new Map();d.forEach(function(a){return e.addPrefetchTrack(a)})}var c=a.prototype;c.addPrefetchTrack=function(a){var c=this,d=a.mimeCodec,e=this.$12(d);if(!e)return;var f=this.$12(d),h=this.$13(this.$7).setType(f),i=this.$13(this.$7).setType(f+";init");this.$5.set(e,a.segmentPromise?1:0);f=this.$2.createSourceBufferManager(d).then(function(d){var f=b("oz-player/utils/convertRequestPromiseToReadableStream")(a.initializationPromise);g(a.initializationPromise,i,"fetch_stream");d.queueData(f,i)["catch"](c.$14);f=a.segmentPromise;if(f){var j=b("oz-player/utils/convertRequestPromiseToReadableStream")(f);g(f,h,"fetch_stream");d.queueData(j,h).then(function(a){c.$8.set(e,a.appendedSec),c.$1.getBool("call_end_of_stream_in_quick_starter",!1)&&c.$8.size===c.$4.size&&c.$15()&&(c.$2.notifyEndOfStream(),c.$11.forEach(function(a){return a()})),c.$1.getBool("seek_to_start_quick_starter",!1)&&c.$8.size===c.$4.size&&c.$16()})["catch"](c.$14)}return d});this.$4.set(e,f);a.representationID&&this.$9.set(e,a.representationID)};c.onError=function(a){return this.$10.onError(a)};c.$16=function(){var a=this.$3.buffered.length>0?this.$3.buffered.start(0):null;a!==null&&this.$3.currentTime<a&&(this.$3.currentTime=a+i)};c.$15=function(){var a=this;if(Number.isNaN(this.$3.duration))return!1;var b=!0;this.$8.forEach(function(c){Math.abs(c-a.$3.duration)>i&&(b=!1)});return b};c.addEndOfStreamCallback=function(a){var b=this;this.$11.push(a);return{remove:function(){b.$11=b.$11.filter(function(b){return b!==a})}}};c.getSourceBufferManagerPromise=function(a){a=this.$12(a);return this.$4.get(a)};c.getPrependedSegmentsCount=function(a){var b=this.$12(a);if(!b)return 0;b=this.$5.get(b)||0;return this.getSourceBufferManagerPromise(a)?b:0};c.getRepresentationId=function(a){a=this.$12(a);return!a?null:this.$9.get(a)||null};c.getAudioRepresentationIDAtTime=function(a){return this.$17("audio",a)};c.getVideoRepresentationIDAtTime=function(a){return this.$17("video",a)};c.getVideoNode=function(){return this.$3};c.getMediaSourceManager=function(){return this.$2};c.getObservedOperationLoggers=function(){return this.$6};c.$17=function(a,b){var c=this.$8.get(a);return c!=null&&b<=c?this.$9.get(a):null};c.$13=function(a){a=a.cloneContext();a instanceof h||b("oz-player/shims/ozvariant")(0,5677);this.$6.push(a);return a};c.$12=function(a){return(a.split("/")[0]||"").trim()};return a}();e.exports=a}),null);